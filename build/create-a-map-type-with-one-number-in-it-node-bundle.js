/*! For license information please see create-a-map-type-with-one-number-in-it-node-bundle.js.LICENSE.txt */
(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function r(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(r.length?" "+r.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}e.r(t);var n={};function i(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:n}var a=Object.assign,o=Object.getOwnPropertyDescriptor,u=Object.defineProperty,s=Object.prototype,l=[];Object.freeze(l);var c={};Object.freeze(c);var f="undefined"!=typeof Proxy,p=Object.toString();function b(){f||r("Proxy not available")}function h(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var d=function(){};function v(e){return"function"==typeof e}function y(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function g(e){return null!==e&&"object"==typeof e}function m(e){if(!g(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r.toString()===p}function _(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function w(e,t,r){u(e,t,{enumerable:!1,writable:!0,configurable:!0,value:r})}function O(e,t,r){u(e,t,{enumerable:!1,writable:!1,configurable:!0,value:r})}function P(e,t){var r="isMobX"+e;return t.prototype[r]=!0,function(e){return g(e)&&!0===e[r]}}function j(e){return e instanceof Map}function S(e){return e instanceof Set}var A=void 0!==Object.getOwnPropertySymbols,E="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:A?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function T(e){return null===e?null:"object"==typeof e?""+e:e}function I(e,t){return s.hasOwnProperty.call(e,t)}var N=Object.getOwnPropertyDescriptors||function(e){var t={};return E(e).forEach((function(r){t[r]=o(e,r)})),t};function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,"symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key))?i:String(i)),n)}var i}function V(e,t,r){return t&&C(e.prototype,t),r&&C(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x.apply(this,arguments)}function D(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,k(e,t)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z=Symbol("mobx-stored-annotations");function U(e){return Object.assign((function(t,r){B(t,r,e)}),e)}function B(e,t,r){I(e,z)||w(e,z,x({},e[z])),function(e){return e.annotationType_===$}(r)||(e[z][t]=r)}var F=Symbol("mobx administration"),H=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.batchId_=void 0,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ge.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e,this.batchId_=ut.inBatch?ut.batchId:NaN}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return bt(this)},t.reportChanged=function(){ut.inBatch&&this.batchId_===ut.batchId||(ut.stateVersion=ut.stateVersion<Number.MAX_SAFE_INTEGER?ut.stateVersion+1:Number.MIN_SAFE_INTEGER,this.batchId_=NaN),ft(),ht(this),pt()},t.toString=function(){return this.name_},e}(),G=P("Atom",H);function K(e,t,r){void 0===t&&(t=d),void 0===r&&(r=d);var n=new H(e);return t!==d&&Mt(kt,n,t,undefined),r!==d&&Lt(n,r),n}var W={identity:function(e,t){return e===t},structural:function(e,t){return on(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return on(e,t,1)}};function q(e,t,r){return Yt(e)?e:Array.isArray(e)?Ae.array(e,{name:r}):m(e)?Ae.object(e,void 0,{name:r}):j(e)?Ae.map(e,{name:r}):S(e)?Ae.set(e,{name:r}):"function"!=typeof e||Ct(e)||Kt(e)?e:_(e)?Ht(e):It(r,e)}function Y(e){return e}var $="override";function J(e,t){return{annotationType_:e,options_:t,make_:X,extend_:Z}}function X(e,t,r,n){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,r,!1)?0:1;if(n===e.target_)return null===this.extend_(e,t,r,!1)?0:2;if(Ct(r.value))return 1;var a=Q(e,this,t,r,!1);return u(n,t,a),2}function Z(e,t,r,n){var i=Q(e,this,t,r);return e.defineProperty_(t,i,n)}function Q(e,t,r,n,i){var a,o,u,s,l,c,f,p;void 0===i&&(i=ut.safeDescriptors),p=n,t.annotationType_,p.value;var b,h=n.value;return null!=(a=t.options_)&&a.bound&&(h=h.bind(null!=(b=e.proxy_)?b:e.target_)),{value:Re(null!=(o=null==(u=t.options_)?void 0:u.name)?o:r.toString(),h,null!=(s=null==(l=t.options_)?void 0:l.autoAction)&&s,null!=(c=t.options_)&&c.bound?null!=(f=e.proxy_)?f:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function ee(e,t){return{annotationType_:e,options_:t,make_:te,extend_:re}}function te(e,t,r,n){var i;if(n===e.target_)return null===this.extend_(e,t,r,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!I(e.target_,t)||!Kt(e.target_[t]))&&null===this.extend_(e,t,r,!1))return 0;if(Kt(r.value))return 1;var a=ne(e,this,0,r,!1,!1);return u(n,t,a),2}function re(e,t,r,n){var i,a=ne(e,this,0,r,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,a,n)}function ne(e,t,r,n,i,a){var o;void 0===a&&(a=ut.safeDescriptors),o=n,t.annotationType_,o.value;var u,s=n.value;return Kt(s)||(s=Ht(s)),i&&((s=s.bind(null!=(u=e.proxy_)?u:e.target_)).isMobXFlow=!0),{value:s,configurable:!a||e.isPlainObject_,enumerable:!1,writable:!a}}function ie(e,t){return{annotationType_:e,options_:t,make_:ae,extend_:oe}}function ae(e,t,r){return null===this.extend_(e,t,r,!1)?0:1}function oe(e,t,r,n){return i=r,this.annotationType_,i.get,e.defineComputedProperty_(t,x({},this.options_,{get:r.get,set:r.set}),n);var i}function ue(e,t){return{annotationType_:e,options_:t,make_:se,extend_:le}}function se(e,t,r){return null===this.extend_(e,t,r,!1)?0:1}function le(e,t,r,n){var i,a;return this.annotationType_,e.defineObservableProperty_(t,r.value,null!=(i=null==(a=this.options_)?void 0:a.enhancer)?i:q,n)}var ce="true",fe=pe();function pe(e){return{annotationType_:ce,options_:e,make_:be,extend_:he}}function be(e,t,r,n){var i,a,o,s;if(r.get)return Ne.make_(e,t,r,n);if(r.set){var l=Re(t.toString(),r.set);return n===e.target_?null===e.defineProperty_(t,{configurable:!ut.safeDescriptors||e.isPlainObject_,set:l})?0:2:(u(n,t,{configurable:!0,set:l}),2)}if(n!==e.target_&&"function"==typeof r.value)return _(r.value)?(null!=(s=this.options_)&&s.autoBind?Ht.bound:Ht).make_(e,t,r,n):(null!=(o=this.options_)&&o.autoBind?It.bound:It).make_(e,t,r,n);var c,f=!1===(null==(i=this.options_)?void 0:i.deep)?Ae.ref:Ae;return"function"==typeof r.value&&null!=(a=this.options_)&&a.autoBind&&(r.value=r.value.bind(null!=(c=e.proxy_)?c:e.target_)),f.make_(e,t,r,n)}function he(e,t,r,n){var i,a,o;return r.get?Ne.extend_(e,t,r,n):r.set?e.defineProperty_(t,{configurable:!ut.safeDescriptors||e.isPlainObject_,set:Re(t.toString(),r.set)},n):("function"==typeof r.value&&null!=(i=this.options_)&&i.autoBind&&(r.value=r.value.bind(null!=(o=e.proxy_)?o:e.target_)),(!1===(null==(a=this.options_)?void 0:a.deep)?Ae.ref:Ae).extend_(e,t,r,n))}var de={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ve(e){return e||de}Object.freeze(de);var ye=ue("observable"),ge=ue("observable.ref",{enhancer:Y}),me=ue("observable.shallow",{enhancer:function(e,t,r){return null==e||Br(e)||jr(e)||Cr(e)||Dr(e)?e:Array.isArray(e)?Ae.array(e,{name:r,deep:!1}):m(e)?Ae.object(e,void 0,{name:r,deep:!1}):j(e)?Ae.map(e,{name:r,deep:!1}):S(e)?Ae.set(e,{name:r,deep:!1}):void 0}}),_e=ue("observable.struct",{enhancer:function(e,t){return on(e,t)?t:e}}),we=U(ye);function Oe(e){return!0===e.deep?q:!1===e.deep?Y:(t=e.defaultDecorator)&&null!=(r=null==(n=t.options_)?void 0:n.enhancer)?r:q;var t,r,n}function Pe(e,t,r){if(!y(t))return Yt(e)?e:m(e)?Ae.object(e,t,r):Array.isArray(e)?Ae.array(e,t):j(e)?Ae.map(e,t):S(e)?Ae.set(e,t):"object"==typeof e&&null!==e?e:Ae.box(e,t);B(e,t,ye)}a(Pe,we);var je,Se,Ae=a(Pe,{box:function(e,t){var r=ve(t);return new Fe(e,Oe(r),r.name,!0,r.equals)},array:function(e,t){var r=ve(t);return(!1===ut.useProxies||!1===r.proxy?Qr:dr)(e,Oe(r),r.name)},map:function(e,t){var r=ve(t);return new Nr(e,Oe(r),r.name)},set:function(e,t){var r=ve(t);return new xr(e,Oe(r),r.name)},object:function(e,t,r){return nn((function(){return function(e,t,r,n){var i=N(t);return nn((function(){var t=Mr(e,n)[F];E(i).forEach((function(e){t.extend_(e,i[e],!r||!(e in r)||r[e])}))})),e}(!1===ut.useProxies||!1===(null==r?void 0:r.proxy)?Mr({},r):function(e,t){var r,n;return b(),null!=(n=(r=(e=Mr(e,t))[F]).proxy_)?n:r.proxy_=new Proxy(e,ir)}({},r),e,t)}))},ref:U(ge),shallow:U(me),deep:we,struct:U(_e)}),Ee="computed",Te=ie(Ee),Ie=ie("computed.struct",{equals:W.structural}),Ne=function(e,t){if(y(t))return B(e,t,Te);if(m(e))return U(ie(Ee,e));var r=m(t)?t:{};return r.get=e,r.name||(r.name=e.name||""),new We(r)};Object.assign(Ne,Te),Ne.struct=U(Ie);var Ce,Ve=0,xe=1,De=null!=(je=null==(Se=o((function(){}),"name"))?void 0:Se.configurable)&&je,ke={value:"action",configurable:!0,writable:!1,enumerable:!1};function Re(e,t,r,n){function i(){return Le(0,r,t,n||this,arguments)}return void 0===r&&(r=!1),i.isMobxAction=!0,De&&(ke.value=e,u(i,"name",ke)),i}function Le(e,t,n,i,a){var o=function(e,t,r,n){var i=ut.trackingDerivation,a=!t||!i;ft();var o=ut.allowStateChanges;a&&(et(),o=ze(!0));var u={runAsAction_:a,prevDerivation_:i,prevAllowStateChanges_:o,prevAllowStateReads_:rt(!0),notifySpy_:!1,startTime_:0,actionId_:xe++,parentActionId_:Ve};return Ve=u.actionId_,u}(0,t);try{return n.apply(i,a)}catch(e){throw o.error_=e,e}finally{!function(e){Ve!==e.actionId_&&r(30),Ve=e.parentActionId_,void 0!==e.error_&&(ut.suppressReactionErrors=!0),Ue(e.prevAllowStateChanges_),nt(e.prevAllowStateReads_),pt(),e.runAsAction_&&tt(e.prevDerivation_),ut.suppressReactionErrors=!1}(o)}}function Me(e,t){var r=ze(e);try{return t()}finally{Ue(r)}}function ze(e){var t=ut.allowStateChanges;return ut.allowStateChanges=e,t}function Ue(e){ut.allowStateChanges=e}Ce=Symbol.toPrimitive;var Be,Fe=function(e){function t(t,r,n,i,a){var o;return void 0===n&&(n="ObservableValue"),void 0===i&&(i=!0),void 0===a&&(a=W.default),(o=e.call(this,n)||this).enhancer=void 0,o.name_=void 0,o.equals=void 0,o.hasUnreportedChange_=!1,o.interceptors_=void 0,o.changeListeners_=void 0,o.value_=void 0,o.dehancer=void 0,o.enhancer=r,o.name_=n,o.equals=a,o.value_=r(t,void 0,n),o}D(t,e);var r=t.prototype;return r.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},r.set=function(e){this.value_,(e=this.prepareNewValue_(e))!==ut.UNCHANGED&&this.setNewValue_(e)},r.prepareNewValue_=function(e){if(ar(this)){var t=ur(this,{object:this,type:pr,newValue:e});if(!t)return ut.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?ut.UNCHANGED:e},r.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),sr(this)&&cr(this,{type:pr,object:this,newValue:e,oldValue:t})},r.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function(e){return or(this,e)},r.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:pr,newValue:this.value_,oldValue:void 0}),lr(this,e)},r.raw=function(){return this.value_},r.toJSON=function(){return this.get()},r.toString=function(){return this.name_+"["+this.value_+"]"},r.valueOf=function(){return T(this.get())},r[Ce]=function(){return this.valueOf()},t}(H),He=P("ObservableValue",Fe);Be=Symbol.toPrimitive;var Ge,Ke,We=function(){function e(e){this.dependenciesState_=Ge.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ge.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Ye(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Ke.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||r(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=Re("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?W.structural:W.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){!function(e){e.lowestObserverState_===Ge.UP_TO_DATE_&&(e.lowestObserverState_=Ge.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===Ge.UP_TO_DATE_&&(e.dependenciesState_=Ge.POSSIBLY_STALE_,e.onBecomeStale_())})))}(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function(){if(this.isComputing_&&r(32,this.name_,this.derivation),0!==ut.inBatch||0!==this.observers_.size||this.keepAlive_){if(bt(this),Je(this)){var e=ut.trackingContext;this.keepAlive_&&!e&&(ut.trackingContext=this),this.trackAndCompute()&&function(e){e.lowestObserverState_!==Ge.STALE_&&(e.lowestObserverState_=Ge.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===Ge.POSSIBLY_STALE_?t.dependenciesState_=Ge.STALE_:t.dependenciesState_===Ge.UP_TO_DATE_&&(e.lowestObserverState_=Ge.UP_TO_DATE_)})))}(this),ut.trackingContext=e}}else Je(this)&&(this.warnAboutUntrackedRead_(),ft(),this.value_=this.computeValue_(!1),pt());var t=this.value_;if($e(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter_&&r(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else r(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===Ge.NOT_TRACKING_,r=this.computeValue_(!0),n=t||$e(e)||$e(r)||!this.equals_(e,r);return n&&(this.value_=r),n},t.computeValue_=function(e){this.isComputing_=!0;var t,r=ze(!1);if(e)t=Xe(this,this.derivation,this.scope_);else if(!0===ut.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new Ye(e)}return Ue(r),this.isComputing_=!1,t},t.suspend_=function(){this.keepAlive_||(Ze(this),this.value_=void 0)},t.observe_=function(e,t){var r=this,n=!0,i=void 0;return Vt((function(){var a=r.get();if(!n||t){var o=et();e({observableKind:"computed",debugObjectName:r.name_,type:pr,object:r,newValue:a,oldValue:i}),tt(o)}n=!1,i=a}))},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return T(this.get())},t[Be]=function(){return this.valueOf()},e}(),qe=P("ComputedValue",We);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(Ge||(Ge={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(Ke||(Ke={}));var Ye=function(e){this.cause=void 0,this.cause=e};function $e(e){return e instanceof Ye}function Je(e){switch(e.dependenciesState_){case Ge.UP_TO_DATE_:return!1;case Ge.NOT_TRACKING_:case Ge.STALE_:return!0;case Ge.POSSIBLY_STALE_:for(var t=rt(!0),r=et(),n=e.observing_,i=n.length,a=0;a<i;a++){var o=n[a];if(qe(o)){if(ut.disableErrorBoundaries)o.get();else try{o.get()}catch(e){return tt(r),nt(t),!0}if(e.dependenciesState_===Ge.STALE_)return tt(r),nt(t),!0}}return it(e),tt(r),nt(t),!1}}function Xe(e,t,r){var n=rt(!0);it(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++ut.runId;var i,a=ut.trackingDerivation;if(ut.trackingDerivation=e,ut.inBatch++,!0===ut.disableErrorBoundaries)i=t.call(r);else try{i=t.call(r)}catch(e){i=new Ye(e)}return ut.inBatch--,ut.trackingDerivation=a,function(e){for(var t=e.observing_,r=e.observing_=e.newObserving_,n=Ge.UP_TO_DATE_,i=0,a=e.unboundDepsCount_,o=0;o<a;o++){var u=r[o];0===u.diffValue_&&(u.diffValue_=1,i!==o&&(r[i]=u),i++),u.dependenciesState_>n&&(n=u.dependenciesState_)}for(r.length=i,e.newObserving_=null,a=t.length;a--;){var s=t[a];0===s.diffValue_&&lt(s,e),s.diffValue_=0}for(;i--;){var l=r[i];1===l.diffValue_&&(l.diffValue_=0,st(l,e))}n!==Ge.UP_TO_DATE_&&(e.dependenciesState_=n,e.onBecomeStale_())}(e),nt(n),i}function Ze(e){var t=e.observing_;e.observing_=[];for(var r=t.length;r--;)lt(t[r],e);e.dependenciesState_=Ge.NOT_TRACKING_}function Qe(e){var t=et();try{return e()}finally{tt(t)}}function et(){var e=ut.trackingDerivation;return ut.trackingDerivation=null,e}function tt(e){ut.trackingDerivation=e}function rt(e){var t=ut.allowStateReads;return ut.allowStateReads=e,t}function nt(e){ut.allowStateReads=e}function it(e){if(e.dependenciesState_!==Ge.UP_TO_DATE_){e.dependenciesState_=Ge.UP_TO_DATE_;for(var t=e.observing_,r=t.length;r--;)t[r].lowestObserverState_=Ge.UP_TO_DATE_}}var at=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.batchId=Number.MIN_SAFE_INTEGER,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0,this.stateVersion=Number.MIN_SAFE_INTEGER},ot=!0,ut=function(){var e=i();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(ot=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new at).version&&(ot=!1),ot?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new at):(setTimeout((function(){r(35)}),1),new at)}();function st(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function lt(e,t){e.observers_.delete(t),0===e.observers_.size&&ct(e)}function ct(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,ut.pendingUnobservations.push(e))}function ft(){0===ut.inBatch&&(ut.batchId=ut.batchId<Number.MAX_SAFE_INTEGER?ut.batchId+1:Number.MIN_SAFE_INTEGER),ut.inBatch++}function pt(){if(0==--ut.inBatch){gt();for(var e=ut.pendingUnobservations,t=0;t<e.length;t++){var r=e[t];r.isPendingUnobservation_=!1,0===r.observers_.size&&(r.isBeingObserved_&&(r.isBeingObserved_=!1,r.onBUO()),r instanceof We&&r.suspend_())}ut.pendingUnobservations=[]}}function bt(e){var t=ut.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&ut.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(0===e.observers_.size&&ut.inBatch>0&&ct(e),!1)}function ht(e){e.lowestObserverState_!==Ge.STALE_&&(e.lowestObserverState_=Ge.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===Ge.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Ge.STALE_})))}var dt=function(){function e(e,t,r,n){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Ge.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Ke.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=r,this.requiresObservable_=n}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,ut.pendingReactions.push(this),gt())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){ft(),this.isScheduled_=!1;var e=ut.trackingContext;if(ut.trackingContext=this,Je(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}ut.trackingContext=e,pt()}},t.track=function(e){if(!this.isDisposed_){ft(),this.isRunning_=!0;var t=ut.trackingContext;ut.trackingContext=this;var r=Xe(this,e,void 0);ut.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&Ze(this),$e(r)&&this.reportExceptionInDerivation_(r.cause),pt()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(ut.disableErrorBoundaries)throw e;var r="[mobx] uncaught error in '"+this+"'";ut.suppressReactionErrors||console.error(r,e),ut.globalReactionErrorHandlers.forEach((function(r){return r(e,t)}))}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(ft(),Ze(this),pt()))},t.getDisposer_=function(e){var t=this,r=function r(){t.dispose(),null==e||null==e.removeEventListener||e.removeEventListener("abort",r)};return null==e||null==e.addEventListener||e.addEventListener("abort",r),r[F]=this,r},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1)},e}(),vt=100,yt=function(e){return e()};function gt(){ut.inBatch>0||ut.isRunningReactions||yt(mt)}function mt(){ut.isRunningReactions=!0;for(var e=ut.pendingReactions,t=0;e.length>0;){++t===vt&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var r=e.splice(0),n=0,i=r.length;n<i;n++)r[n].runReaction_()}ut.isRunningReactions=!1}var _t=P("Reaction",dt),wt="action",Ot="autoAction",Pt=J(wt),jt=J("action.bound",{bound:!0}),St=J(Ot,{autoAction:!0}),At=J("autoAction.bound",{autoAction:!0,bound:!0});function Et(e){return function(t,r){return v(t)?Re(t.name||"<unnamed action>",t,e):v(r)?Re(t,r,e):y(r)?B(t,r,e?St:Pt):y(t)?U(J(e?Ot:wt,{name:t,autoAction:e})):void 0}}var Tt=Et(!1);Object.assign(Tt,Pt);var It=Et(!0);function Nt(e){return Le(e.name,!1,e,this,void 0)}function Ct(e){return v(e)&&!0===e.isMobxAction}function Vt(e,t){var r,n,i,a,o;void 0===t&&(t=c);var u,s=null!=(r=null==(n=t)?void 0:n.name)?r:"Autorun";if(t.scheduler||t.delay){var l=Dt(t),f=!1;u=new dt(s,(function(){f||(f=!0,l((function(){f=!1,u.isDisposed_||u.track(p)})))}),t.onError,t.requiresObservable)}else u=new dt(s,(function(){this.track(p)}),t.onError,t.requiresObservable);function p(){e(u)}return null!=(i=t)&&null!=(a=i.signal)&&a.aborted||u.schedule_(),u.getDisposer_(null==(o=t)?void 0:o.signal)}Object.assign(It,St),Tt.bound=U(jt),It.bound=U(At);var xt=function(e){return e()};function Dt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:xt}var kt="onBO",Rt="onBUO";function Lt(e,t,r){return Mt(Rt,e,t,r)}function Mt(e,t,r,n){var i="function"==typeof n?en(t,r):en(t),a=v(n)?n:r,o=e+"L";return i[o]?i[o].add(a):i[o]=new Set([a]),function(){var e=i[o];e&&(e.delete(a),0===e.size&&delete i[o])}}var zt=0;function Ut(){this.message="FLOW_CANCELLED"}Ut.prototype=Object.create(Error.prototype);var Bt=ee("flow"),Ft=ee("flow.bound",{bound:!0}),Ht=Object.assign((function(e,t){if(y(t))return B(e,t,Bt);var r=e,n=r.name||"<unnamed flow>",i=function(){var e,t=arguments,i=++zt,a=Tt(n+" - runid: "+i+" - init",r).apply(this,t),o=void 0,u=new Promise((function(t,r){var u=0;function s(e){var t;o=void 0;try{t=Tt(n+" - runid: "+i+" - yield "+u++,a.next).call(a,e)}catch(e){return r(e)}c(t)}function l(e){var t;o=void 0;try{t=Tt(n+" - runid: "+i+" - yield "+u++,a.throw).call(a,e)}catch(e){return r(e)}c(t)}function c(e){if(!v(null==e?void 0:e.then))return e.done?t(e.value):(o=Promise.resolve(e.value)).then(s,l);e.then(c,r)}e=r,s(void 0)}));return u.cancel=Tt(n+" - runid: "+i+" - cancel",(function(){try{o&&Gt(o);var t=a.return(void 0),r=Promise.resolve(t.value);r.then(d,d),Gt(r),e(new Ut)}catch(t){e(t)}})),u};return i.isMobXFlow=!0,i}),Bt);function Gt(e){v(e.cancel)&&e.cancel()}function Kt(e){return!0===(null==e?void 0:e.isMobXFlow)}function Wt(e,t,r){var n;return Cr(e)||jr(e)||He(e)?n=tn(e):Br(e)&&(n=tn(e,t)),n.dehancer="function"==typeof t?t:r,function(){n.dehancer=void 0}}function qt(e,t,r){return v(r)?function(e,t,r){return tn(e,t).intercept_(r)}(e,t,r):function(e,t){return tn(e).intercept_(t)}(e,t)}function Yt(e){return function(e,t){return!!e&&(void 0!==t?!!Br(e)&&e[F].values_.has(t):Br(e)||!!e[F]||G(e)||_t(e)||qe(e))}(e)}function $t(e){return Br(e)?e[F].keys_():Cr(e)||Dr(e)?Array.from(e.keys()):jr(e)?e.map((function(e,t){return t})):void r(5)}function Jt(e){return Br(e)?$t(e).map((function(t){return e[t]})):Cr(e)?$t(e).map((function(t){return e.get(t)})):Dr(e)?Array.from(e.values()):jr(e)?e.slice():void r(6)}function Xt(e,t,n){if(2!==arguments.length||Dr(e))Br(e)?e[F].set_(t,n):Cr(e)?e.set(t,n):Dr(e)?e.add(t):jr(e)?("number"!=typeof t&&(t=parseInt(t,10)),t<0&&r("Invalid index: '"+t+"'"),ft(),t>=e.length&&(e.length=t+1),e[t]=n,pt()):r(8);else{ft();var i=t;try{for(var a in i)Xt(e,a,i[a])}finally{pt()}}}function Zt(e,t,n){if(Br(e))return e[F].defineProperty_(t,n);r(39)}function Qt(e,t,r,n){return v(r)?function(e,t,r,n){return tn(e,t).observe_(r,n)}(e,t,r,n):function(e,t,r){return tn(e).observe_(t,r)}(e,t,r)}function er(e,t){void 0===t&&(t=void 0),ft();try{return e.apply(t)}finally{pt()}}function tr(e,t,r){return 1===arguments.length||t&&"object"==typeof t?function(e,t){var r,n,i;if(null!=t&&null!=(r=t.signal)&&r.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var a=new Promise((function(r,a){var o,u=rr(e,r,x({},t,{onError:a}));n=function(){u(),a(new Error("WHEN_CANCELLED"))},i=function(){u(),a(new Error("WHEN_ABORTED"))},null==t||null==(o=t.signal)||null==o.addEventListener||o.addEventListener("abort",i)})).finally((function(){var e;return null==t||null==(e=t.signal)||null==e.removeEventListener?void 0:e.removeEventListener("abort",i)}));return a.cancel=n,a}(e,t):rr(e,t,r||{})}function rr(e,t,r){var n;if("number"==typeof r.timeout){var i=new Error("WHEN_TIMEOUT");n=setTimeout((function(){if(!o[F].isDisposed_){if(o(),!r.onError)throw i;r.onError(i)}}),r.timeout)}r.name="When";var a=Re("When-effect",t),o=Vt((function(t){Me(!1,e)&&(t.dispose(),n&&clearTimeout(n),a())}),r);return o}function nr(e){return e[F]}Ht.bound=U(Ft);var ir={has:function(e,t){return nr(e).has_(t)},get:function(e,t){return nr(e).get_(t)},set:function(e,t,r){var n;return!!y(t)&&(null==(n=nr(e).set_(t,r,!0))||n)},deleteProperty:function(e,t){var r;return!!y(t)&&(null==(r=nr(e).delete_(t,!0))||r)},defineProperty:function(e,t,r){var n;return null==(n=nr(e).defineProperty_(t,r))||n},ownKeys:function(e){return nr(e).ownKeys_()},preventExtensions:function(e){r(13)}};function ar(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function or(e,t){var r=e.interceptors_||(e.interceptors_=[]);return r.push(t),h((function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}))}function ur(e,t){var n=et();try{for(var i=[].concat(e.interceptors_||[]),a=0,o=i.length;a<o&&((t=i[a](t))&&!t.type&&r(14),t);a++);return t}finally{tt(n)}}function sr(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function lr(e,t){var r=e.changeListeners_||(e.changeListeners_=[]);return r.push(t),h((function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}))}function cr(e,t){var r=et(),n=e.changeListeners_;if(n){for(var i=0,a=(n=n.slice()).length;i<a;i++)n[i](t);tt(r)}}var fr="splice",pr="update",br={get:function(e,t){var r=e[F];return t===F?r:"length"===t?r.getArrayLength_():"string"!=typeof t||isNaN(t)?I(vr,t)?vr[t]:e[t]:r.get_(parseInt(t))},set:function(e,t,r){var n=e[F];return"length"===t&&n.setArrayLength_(r),"symbol"==typeof t||isNaN(t)?e[t]=r:n.set_(parseInt(t),r),!0},preventExtensions:function(){r(15)}},hr=function(){function e(e,t,r,n){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=r,this.legacyMode_=n,this.atom_=new H(e),this.enhancer_=function(e,r){return t(e,r,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return or(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),lr(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&r("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),i=0;i<e-t;i++)n[i]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&r(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&Zr(e+t+1)},t.spliceWithArray_=function(e,t,r){var n=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===r&&(r=l),ar(this)){var a=ur(this,{object:this.proxy_,type:fr,index:e,removedCount:t,added:r});if(!a)return l;t=a.removedCount,r=a.added}if(r=0===r.length?r:r.map((function(e){return n.enhancer_(e,void 0)})),this.legacyMode_){var o=r.length-t;this.updateArrayLength_(i,o)}var u=this.spliceItemsIntoValues_(e,t,r);return 0===t&&0===r.length||this.notifyArraySplice_(e,r,u),this.dehanceValues_(u)},t.spliceItemsIntoValues_=function(e,t,r){var n;if(r.length<1e4)return(n=this.values_).splice.apply(n,[e,t].concat(r));var i=this.values_.slice(e,e+t),a=this.values_.slice(e+t);this.values_.length+=r.length-t;for(var o=0;o<r.length;o++)this.values_[e+o]=r[o];for(var u=0;u<a.length;u++)this.values_[e+r.length+u]=a[u];return i},t.notifyArrayChildUpdate_=function(e,t,r){var n=!this.owned_&&!1,i=sr(this),a=i||n?{observableKind:"array",object:this.proxy_,type:pr,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:r}:null;this.atom_.reportChanged(),i&&cr(this,a)},t.notifyArraySplice_=function(e,t,r){var n=!this.owned_&&!1,i=sr(this),a=i||n?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:fr,index:e,removed:r,added:t,removedCount:r.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&cr(this,a)},t.get_=function(e){if(!(this.legacyMode_&&e>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx] Out of bounds read: "+e)},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&r(17,e,n.length),e<n.length){this.atom_;var i=n[e];if(ar(this)){var a=ur(this,{type:pr,object:this.proxy_,index:e,newValue:t});if(!a)return;t=a.newValue}(t=this.enhancer_(t,i))!==i&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,i))}else{for(var o=new Array(e+1-n.length),u=0;u<o.length-1;u++)o[u]=void 0;o[o.length-1]=t,this.spliceWithArray_(n.length,0,o)}},e}();function dr(e,t,r,n){return void 0===r&&(r="ObservableArray"),void 0===n&&(n=!1),b(),nn((function(){var i=new hr(r,t,n,!1);O(i.values_,F,i);var a=new Proxy(i.values_,br);return i.proxy_=a,e&&e.length&&i.spliceWithArray_(0,0,e),a}))}var vr={clear:function(){return this.splice(0)},replace:function(e){var t=this[F];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var a=this[F];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(e);case 2:return a.spliceWithArray_(e,t)}return a.spliceWithArray_(e,t,n)},spliceWithArray:function(e,t,r){return this[F].spliceWithArray_(e,t,r)},push:function(){for(var e=this[F],t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function(){return this.splice(Math.max(this[F].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[F],t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function(){return ut.trackingDerivation&&r(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ut.trackingDerivation&&r(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[F],r=t.dehanceValues_(t.values_).indexOf(e);return r>-1&&(this.splice(r,1),!0)}};function yr(e,t){"function"==typeof Array.prototype[e]&&(vr[e]=t(e))}function gr(e){return function(){var t=this[F];t.atom_.reportObserved();var r=t.dehanceValues_(t.values_);return r[e].apply(r,arguments)}}function mr(e){return function(t,r){var n=this,i=this[F];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(r,e,i,n)}))}}function _r(e){return function(){var t=this,r=this[F];r.atom_.reportObserved();var n=r.dehanceValues_(r.values_),i=arguments[0];return arguments[0]=function(e,r,n){return i(e,r,n,t)},n[e].apply(n,arguments)}}yr("concat",gr),yr("flat",gr),yr("includes",gr),yr("indexOf",gr),yr("join",gr),yr("lastIndexOf",gr),yr("slice",gr),yr("toString",gr),yr("toLocaleString",gr),yr("every",mr),yr("filter",mr),yr("find",mr),yr("findIndex",mr),yr("flatMap",mr),yr("forEach",mr),yr("map",mr),yr("some",mr),yr("reduce",_r),yr("reduceRight",_r);var wr,Or,Pr=P("ObservableArrayAdministration",hr);function jr(e){return g(e)&&Pr(e[F])}var Sr={},Ar="add",Er="delete";wr=Symbol.iterator,Or=Symbol.toStringTag;var Tr,Ir,Nr=function(){function e(e,t,n){var i=this;void 0===t&&(t=q),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[F]=Sr,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,v(Map)||r(18),nn((function(){i.keysAtom_=K("ObservableMap.keys()"),i.data_=new Map,i.hasMap_=new Map,e&&i.merge(e)}))}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!ut.trackingDerivation)return this.has_(e);var r=this.hasMap_.get(e);if(!r){var n=r=new Fe(this.has_(e),Y,"ObservableMap.key?",!1);this.hasMap_.set(e,n),Lt(n,(function(){return t.hasMap_.delete(e)}))}return r.get()},t.set=function(e,t){var r=this.has_(e);if(ar(this)){var n=ur(this,{type:r?pr:Ar,object:this,newValue:t,name:e});if(!n)return this;t=n.newValue}return r?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if(this.keysAtom_,ar(this)&&!ur(this,{type:Er,object:this,name:e}))return!1;if(this.has_(e)){var r=sr(this),n=r?{observableKind:"map",debugObjectName:this.name_,type:Er,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return er((function(){var r;t.keysAtom_.reportChanged(),null==(r=t.hasMap_.get(e))||r.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),r&&cr(this,n),!0}return!1},t.updateValue_=function(e,t){var r=this.data_.get(e);if((t=r.prepareNewValue_(t))!==ut.UNCHANGED){var n=sr(this),i=n?{observableKind:"map",debugObjectName:this.name_,type:pr,object:this,oldValue:r.value_,name:e,newValue:t}:null;r.setNewValue_(t),n&&cr(this,i)}},t.addValue_=function(e,t){var r=this;this.keysAtom_,er((function(){var n,i=new Fe(t,r.enhancer_,"ObservableMap.key",!1);r.data_.set(e,i),t=i.value_,null==(n=r.hasMap_.get(e))||n.setNewValue_(!0),r.keysAtom_.reportChanged()}));var n=sr(this),i=n?{observableKind:"map",debugObjectName:this.name_,type:Ar,object:this,name:e,newValue:t}:null;n&&cr(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return ln({next:function(){var r=t.next(),n=r.done,i=r.value;return{done:n,value:n?void 0:e.get(i)}}})},t.entries=function(){var e=this,t=this.keys();return ln({next:function(){var r=t.next(),n=r.done,i=r.value;return{done:n,value:n?void 0:[i,e.get(i)]}}})},t[wr]=function(){return this.entries()},t.forEach=function(e,t){for(var r,n=M(this);!(r=n()).done;){var i=r.value,a=i[0],o=i[1];e.call(t,o,a,this)}},t.merge=function(e){var t=this;return Cr(e)&&(e=new Map(e)),er((function(){m(e)?function(e){var t=Object.keys(e);if(!A)return t;var r=Object.getOwnPropertySymbols(e);return r.length?[].concat(t,r.filter((function(t){return s.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(r){return t.set(r,e[r])})):Array.isArray(e)?e.forEach((function(e){var r=e[0],n=e[1];return t.set(r,n)})):j(e)?(e.constructor!==Map&&r(19,e),e.forEach((function(e,r){return t.set(r,e)}))):null!=e&&r(20,e)})),this},t.clear=function(){var e=this;er((function(){Qe((function(){for(var t,r=M(e.keys());!(t=r()).done;){var n=t.value;e.delete(n)}}))}))},t.replace=function(e){var t=this;return er((function(){for(var n,i=function(e){if(j(e)||Cr(e))return e;if(Array.isArray(e))return new Map(e);if(m(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return r(21,e)}(e),a=new Map,o=!1,u=M(t.data_.keys());!(n=u()).done;){var s=n.value;if(!i.has(s))if(t.delete(s))o=!0;else{var l=t.data_.get(s);a.set(s,l)}}for(var c,f=M(i.entries());!(c=f()).done;){var p=c.value,b=p[0],h=p[1],d=t.data_.has(b);if(t.set(b,h),t.data_.has(b)){var v=t.data_.get(b);a.set(b,v),d||(o=!0)}}if(!o)if(t.data_.size!==a.size)t.keysAtom_.reportChanged();else for(var y=t.data_.keys(),g=a.keys(),_=y.next(),w=g.next();!_.done;){if(_.value!==w.value){t.keysAtom_.reportChanged();break}_=y.next(),w=g.next()}t.data_=a})),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return lr(this,e)},t.intercept_=function(e){return or(this,e)},V(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Or,get:function(){return"Map"}}]),e}(),Cr=P("ObservableMap",Nr),Vr={};Tr=Symbol.iterator,Ir=Symbol.toStringTag;var xr=function(){function e(e,t,n){var i=this;void 0===t&&(t=q),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[F]=Vr,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,v(Set)||r(22),this.enhancer_=function(e,r){return t(e,r,n)},nn((function(){i.atom_=K(i.name_),e&&i.replace(e)}))}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;er((function(){Qe((function(){for(var t,r=M(e.data_.values());!(t=r()).done;){var n=t.value;e.delete(n)}}))}))},t.forEach=function(e,t){for(var r,n=M(this);!(r=n()).done;){var i=r.value;e.call(t,i,i,this)}},t.add=function(e){var t=this;if(this.atom_,ar(this)&&!ur(this,{type:Ar,object:this,newValue:e}))return this;if(!this.has(e)){er((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var r=sr(this),n=r?{observableKind:"set",debugObjectName:this.name_,type:Ar,object:this,newValue:e}:null;r&&cr(this,n)}return this},t.delete=function(e){var t=this;if(ar(this)&&!ur(this,{type:Er,object:this,oldValue:e}))return!1;if(this.has(e)){var r=sr(this),n=r?{observableKind:"set",debugObjectName:this.name_,type:Er,object:this,oldValue:e}:null;return er((function(){t.atom_.reportChanged(),t.data_.delete(e)})),r&&cr(this,n),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),r=Array.from(this.values());return ln({next:function(){var n=e;return e+=1,n<r.length?{value:[t[n],r[n]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,r=Array.from(this.data_.values());return ln({next:function(){return t<r.length?{value:e.dehanceValue_(r[t++]),done:!1}:{done:!0}}})},t.replace=function(e){var t=this;return Dr(e)&&(e=new Set(e)),er((function(){Array.isArray(e)||S(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&r("Cannot initialize set from "+e)})),this},t.observe_=function(e,t){return lr(this,e)},t.intercept_=function(e){return or(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Tr]=function(){return this.values()},V(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Ir,get:function(){return"Set"}}]),e}(),Dr=P("ObservableSet",xr),kr=Object.create(null),Rr="remove",Lr=function(){function e(e,t,r,n){void 0===t&&(t=new Map),void 0===n&&(n=fe),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=r,this.defaultAnnotation_=n,this.keysAtom_=new H("ObservableObject.keys"),this.isPlainObject_=m(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var r=this.values_.get(e);if(r instanceof We)return r.set(t),!0;if(ar(this)){var n=ur(this,{type:pr,object:this.proxy_||this.target_,name:e,newValue:t});if(!n)return null;t=n.newValue}if((t=r.prepareNewValue_(t))!==ut.UNCHANGED){var i=sr(this),a=i?{type:pr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:r.value_,name:e,newValue:t}:null;r.setNewValue_(t),i&&cr(this,a)}return!0},t.get_=function(e){return ut.trackingDerivation&&!I(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,r){return void 0===r&&(r=!1),I(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):r?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,r)},t.has_=function(e){if(!ut.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new Fe(e in this.target_,Y,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(!(e in this.target_)){var n;if(null!=(n=this.target_[z])&&n[e])return;r(1,t.annotationType_,this.name_+"."+e.toString())}for(var i=this.target_;i&&i!==s;){var a=o(i,e);if(a){var u=t.make_(this,e,a,i);if(0===u)return;if(1===u)break}i=Object.getPrototypeOf(i)}Fr(this,0,e)}},t.extend_=function(e,t,r,n){if(void 0===n&&(n=!1),!0===r&&(r=this.defaultAnnotation_),!1===r)return this.defineProperty_(e,t,n);var i=r.extend_(this,e,t,n);return i&&Fr(this,0,e),i},t.defineProperty_=function(e,t,r){void 0===r&&(r=!1),this.keysAtom_;try{ft();var n=this.delete_(e);if(!n)return n;if(ar(this)){var i=ur(this,{object:this.proxy_||this.target_,name:e,type:Ar,newValue:t.value});if(!i)return null;var a=i.newValue;t.value!==a&&(t=x({},t,{value:a}))}if(r){if(!Reflect.defineProperty(this.target_,e,t))return!1}else u(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{pt()}return!0},t.defineObservableProperty_=function(e,t,r,n){void 0===n&&(n=!1),this.keysAtom_;try{ft();var i=this.delete_(e);if(!i)return i;if(ar(this)){var a=ur(this,{object:this.proxy_||this.target_,name:e,type:Ar,newValue:t});if(!a)return null;t=a.newValue}var o=Ur(e),s={configurable:!ut.safeDescriptors||this.isPlainObject_,enumerable:!0,get:o.get,set:o.set};if(n){if(!Reflect.defineProperty(this.target_,e,s))return!1}else u(this.target_,e,s);var l=new Fe(t,r,"ObservableObject.key",!1);this.values_.set(e,l),this.notifyPropertyAddition_(e,l.value_)}finally{pt()}return!0},t.defineComputedProperty_=function(e,t,r){void 0===r&&(r=!1),this.keysAtom_;try{ft();var n=this.delete_(e);if(!n)return n;if(ar(this)&&!ur(this,{object:this.proxy_||this.target_,name:e,type:Ar,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=Ur(e),a={configurable:!ut.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(r){if(!Reflect.defineProperty(this.target_,e,a))return!1}else u(this.target_,e,a);this.values_.set(e,new We(t)),this.notifyPropertyAddition_(e,void 0)}finally{pt()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),this.keysAtom_,!I(this.target_,e))return!0;if(ar(this)&&!ur(this,{object:this.proxy_||this.target_,name:e,type:Rr}))return null;try{var r,n;ft();var i,a=sr(this),u=this.values_.get(e),s=void 0;if(!u&&a&&(s=null==(i=o(this.target_,e))?void 0:i.value),t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(u&&(this.values_.delete(e),u instanceof Fe&&(s=u.value_),ht(u)),this.keysAtom_.reportChanged(),null==(r=this.pendingKeys_)||null==(n=r.get(e))||n.set(e in this.target_),a){var l={type:Rr,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:s,name:e};a&&cr(this,l)}}finally{pt()}return!0},t.observe_=function(e,t){return lr(this,e)},t.intercept_=function(e){return or(this,e)},t.notifyPropertyAddition_=function(e,t){var r,n,i=sr(this);if(i){var a=i?{type:Ar,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;i&&cr(this,a)}null==(r=this.pendingKeys_)||null==(n=r.get(e))||n.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),E(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Mr(e,t){var r;if(I(e,F))return e;var n=null!=(r=null==t?void 0:t.name)?r:"ObservableObject",i=new Lr(e,new Map,String(n),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:pe(e):void 0}(t));return w(e,F,i),e}var zr=P("ObservableObjectAdministration",Lr);function Ur(e){return kr[e]||(kr[e]={get:function(){return this[F].getObservablePropValue_(e)},set:function(t){return this[F].setObservablePropValue_(e,t)}})}function Br(e){return!!g(e)&&zr(e[F])}function Fr(e,t,r){var n;null==(n=e.target_[z])||delete n[r]}var Hr,Gr,Kr=Jr(0),Wr=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,!1===e}(),qr=0,Yr=function(){};Hr=Yr,Gr=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(Hr.prototype,Gr):void 0!==Hr.prototype.__proto__?Hr.prototype.__proto__=Gr:Hr.prototype=Gr;var $r=function(e,t,r){function n(t,r,n,i){var a;return void 0===n&&(n="ObservableArray"),void 0===i&&(i=!1),a=e.call(this)||this,nn((function(){var e=new hr(n,r,i,!0);e.proxy_=R(a),O(R(a),F,e),t&&t.length&&a.spliceWithArray(0,0,t),Wr&&Object.defineProperty(R(a),"0",Kr)})),a}D(n,e);var i=n.prototype;return i.concat=function(){this[F].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return jr(e)?e.slice():e})))},i[r]=function(){var e=this,t=0;return ln({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},V(n,[{key:"length",get:function(){return this[F].getArrayLength_()},set:function(e){this[F].setArrayLength_(e)}},{key:t,get:function(){return"Array"}}]),n}(Yr,Symbol.toStringTag,Symbol.iterator);function Jr(e){return{enumerable:!1,configurable:!0,get:function(){return this[F].get_(e)},set:function(t){this[F].set_(e,t)}}}function Xr(e){u($r.prototype,""+e,Jr(e))}function Zr(e){if(e>qr){for(var t=qr;t<e+100;t++)Xr(t);qr=e}}function Qr(e,t,r){return new $r(e,t,r)}function en(e,t){if("object"==typeof e&&null!==e){if(jr(e))return void 0!==t&&r(23),e[F].atom_;if(Dr(e))return e.atom_;if(Cr(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||r(25,t,rn(e)),n}if(Br(e)){if(!t)return r(26);var i=e[F].values_.get(t);return i||r(27,t,rn(e)),i}if(G(e)||qe(e)||_t(e))return e}else if(v(e)&&_t(e[F]))return e[F];r(28)}function tn(e,t){return e||r(29),void 0!==t?tn(en(e,t)):G(e)||qe(e)||_t(e)||Cr(e)||Dr(e)?e:e[F]?e[F]:void r(24,e)}function rn(e,t){var r;if(void 0!==t)r=en(e,t);else{if(Ct(e))return e.name;r=Br(e)||Cr(e)||Dr(e)?tn(e):en(e)}return r.name_}function nn(e){var t=et(),r=ze(!0);ft();try{return e()}finally{pt(),Ue(r),tt(t)}}Object.entries(vr).forEach((function(e){var t=e[0],r=e[1];"concat"!==t&&w($r.prototype,t,r)})),Zr(1e3);var an=s.toString;function on(e,t,r){return void 0===r&&(r=-1),un(e,t,r)}function un(e,t,r,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var a=typeof e;if("function"!==a&&"object"!==a&&"object"!=typeof t)return!1;var o=an.call(e);if(o!==an.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":r>=0&&r++}e=sn(e),t=sn(t);var u="[object Array]"===o;if(!u){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,l=t.constructor;if(s!==l&&!(v(s)&&s instanceof s&&v(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}if(0===r)return!1;r<0&&(r=-1),i=i||[];for(var c=(n=n||[]).length;c--;)if(n[c]===e)return i[c]===t;if(n.push(e),i.push(t),u){if((c=e.length)!==t.length)return!1;for(;c--;)if(!un(e[c],t[c],r-1,n,i))return!1}else{var f,p=Object.keys(e);if(c=p.length,Object.keys(t).length!==c)return!1;for(;c--;)if(!I(t,f=p[c])||!un(e[f],t[f],r-1,n,i))return!1}return n.pop(),i.pop(),!0}function sn(e){return jr(e)?e.slice():j(e)||Cr(e)||S(e)||Dr(e)?Array.from(e.entries()):e}function ln(e){return e[Symbol.iterator]=cn,e}function cn(){return this}["Symbol","Map","Set"].forEach((function(e){void 0===i()[e]&&r("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:rn},$mobx:F});var fn;!function(e){e.afterCreate="afterCreate",e.afterAttach="afterAttach",e.afterCreationFinalization="afterCreationFinalization",e.beforeDetach="beforeDetach",e.beforeDestroy="beforeDestroy"}(fn||(fn={}));var pn=function(e,t){return pn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},pn(e,t)};function bn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}pn(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var hn=function(){return hn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},hn.apply(this,arguments)};function dn(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vn(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}function yn(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(vn(arguments[t]));return e}function gn(e){return Qn(e,1),ei(e).type}function mn(e,t){Qn(e,1),Pi(),ei(e).applyPatches(bi(t))}function _n(e,t){void 0===t&&(t=!0),Qn(e,1);var r=ei(e);return t?r.snapshot:r.type.getSnapshot(r,!1)}function wn(e){return Qn(e,1),ei(e).root.storedValue}var On=function(){function e(e,t,r,n){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"environment",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"_escapedSubpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"storedValue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"aliveAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_state",{enumerable:!0,configurable:!0,writable:!0,value:qn.INITIALIZING}),Object.defineProperty(this,"_hookSubscribers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pathAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.environment=n,this.baseSetParent(t,r)}return Object.defineProperty(e.prototype,"subpath",{get:function(){return this._subpath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subpathUponDeath",{get:function(){return this._subpathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pathUponDeath",{get:function(){return this._pathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.type.getValue(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){var t=this.isAlive;this._state=e;var r=this.isAlive;this.aliveAtom&&t!==r&&this.aliveAtom.reportChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fireInternalHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._hookSubscribers&&this._hookSubscribers.emit(e,this,e)}}),Object.defineProperty(e.prototype,"registerHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._hookSubscribers||(this._hookSubscribers=new _i),this._hookSubscribers.register(e,t)}}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getReconciliationType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type}}),Object.defineProperty(e.prototype,"baseSetParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._parent=e,this._subpath=t,this._escapedSubpath=void 0,this.pathAtom&&this.pathAtom.reportChanged()}}),Object.defineProperty(e.prototype,"path",{get:function(){return this.getEscapedPath(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getEscapedPath",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e&&(this.pathAtom||(this.pathAtom=K("path")),this.pathAtom.reportObserved()),this.parent?(void 0===this._escapedSubpath&&(this._escapedSubpath=this._subpath?Ei(this._subpath):""),this.parent.getEscapedPath(e)+"/"+this._escapedSubpath):""}}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return null===this.parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAlive",{get:function(){return this.state!==qn.DEAD},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDetaching",{get:function(){return this.state===qn.DETACHING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"observableIsAlive",{get:function(){return this.aliveAtom||(this.aliveAtom=K("alive")),this.aliveAtom.reportObserved(),this.isAlive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseFinalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.state===qn.CREATED){if(this.parent){if(this.parent.state!==qn.FINALIZED)return;this.fireHook(fn.afterAttach)}this.state=qn.FINALIZED,e&&e()}}}),Object.defineProperty(e.prototype,"baseFinalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._hookSubscribers&&this._hookSubscribers.clearAll(),this._subpathUponDeath=this._subpath,this._pathUponDeath=this.getEscapedPath(!1),this.baseSetParent(null,""),this.state=qn.DEAD}}),Object.defineProperty(e.prototype,"baseAboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.fireHook(fn.beforeDestroy)}}),e}(),Pn=function(e){function t(t,r,n,i,a){var o=e.call(this,t,r,n,i)||this;try{o.storedValue=t.createNewInstance(a)}catch(e){throw o.state=qn.DEAD,e}return o.state=qn.CREATED,o.finalizeCreation(),o}return bn(t,e),Object.defineProperty(t.prototype,"root",{get:function(){if(!this.parent)throw li("This scalar node is not part of a tree");return this.parent.root},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.parent!==e,n=this.subpath!==t;(r||n)&&(this.environment=void 0,this.baseSetParent(this.parent,t))}}),Object.defineProperty(t.prototype,"snapshot",{get:function(){return this.getSnapshot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(t.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>";return this.type.name+"@"+e+(this.isAlive?"":" [dead]")}}),Object.defineProperty(t.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isAlive&&this.state!==qn.DETACHING&&(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(t.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeCreation()}}),Object.defineProperty(t.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseAboutToDie()}}),Object.defineProperty(t.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeDeath()}}),Object.defineProperty(t.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.fireInternalHook(e)}}),t}(On);Pn.prototype.die=Tt(Pn.prototype.die);var jn,Sn,An=1,En={onError:function(e){throw e}},Tn=function(e){function t(t,r,n,i,a){var o=e.call(this,t,r,n,i)||this;if(Object.defineProperty(o,"nodeId",{enumerable:!0,configurable:!0,writable:!0,value:++An}),Object.defineProperty(o,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"unnormalizedIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"identifierCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"isProtectionEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(o,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"_applyPatches",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"_applySnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"_autoUnbox",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(o,"_isRunningAction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(o,"_hasSnapshotReaction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(o,"_observableInstanceState",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(o,"_childNodes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"_initialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"_cachedInitialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"_cachedInitialSnapshotCreated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(o,"_snapshotComputed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"_snapshotUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"_internalEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),o._snapshotComputed=Ne((function(){return o.getSnapshot()})),o.unbox=o.unbox.bind(o),o._initialSnapshot=a,o.identifierAttribute=t.identifierAttribute,r||(o.identifierCache=new $n),o._childNodes=t.initializeChildNodes(o,o._initialSnapshot),o.identifier=null,o.unnormalizedIdentifier=null,o.identifierAttribute&&o._initialSnapshot){var u=o._initialSnapshot[o.identifierAttribute];if(void 0===u){var s=o._childNodes[o.identifierAttribute];s&&(u=s.value)}if("string"!=typeof u&&"number"!=typeof u)throw li("Instance identifier '"+o.identifierAttribute+"' for type '"+o.type.name+"' must be a string or a number");o.identifier=Ia(u),o.unnormalizedIdentifier=u}return r?r.root.identifierCache.addNodeToCache(o):o.identifierCache.addNodeToCache(o),o}return bn(t,e),Object.defineProperty(t.prototype,"applyPatches",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.createObservableInstanceIfNeeded(),this._applyPatches(e)}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.createObservableInstanceIfNeeded(),this._applySnapshot(e)}}),Object.defineProperty(t.prototype,"createObservableInstanceIfNeeded",{enumerable:!1,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=!0),0===this._observableInstanceState&&this.createObservableInstance(e)}}),Object.defineProperty(t.prototype,"createObservableInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,r,n,i;void 0===e&&(e=!0),this._observableInstanceState=1;for(var a=[],o=this.parent;o&&0===o._observableInstanceState;)a.unshift(o),o=o.parent;try{for(var u=dn(a),s=u.next();!s.done;s=u.next())(p=s.value).createObservableInstanceIfNeeded(!1)}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}var l=this.type;try{this.storedValue=l.createNewInstance(this._childNodes),this.preboot(),this._isRunningAction=!0,l.finalizeNewInstance(this,this.storedValue)}catch(e){throw this.state=qn.DEAD,e}finally{this._isRunningAction=!1}if(this._observableInstanceState=2,this._snapshotComputed.trackAndCompute(),this.isRoot&&this._addSnapshotReaction(),this._childNodes=ui,this.state=qn.CREATED,e){this.fireHook(fn.afterCreate),this.finalizeCreation();try{for(var c=dn(a.reverse()),f=c.next();!f.done;f=c.next()){var p;(p=f.value).fireHook(fn.afterCreate),p.finalizeCreation()}}catch(e){n={error:e}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}}}),Object.defineProperty(t.prototype,"root",{get:function(){var e=this.parent;return e?e.root:this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearParent",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.parent){this.fireHook(fn.beforeDetach);var e=this.state;this.state=qn.DETACHING;var t=this.root,r=t.environment,n=t.identifierCache.splitCache(this);try{this.parent.removeChild(this.subpath),this.baseSetParent(null,""),this.environment=r,this.identifierCache=n}finally{this.state=e}}}}),Object.defineProperty(t.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=e!==this.parent,n=t!==this.subpath;(r||n)&&(r?(this.environment=void 0,e.root.identifierCache.mergeCache(this),this.baseSetParent(e,t),this.fireHook(fn.afterAttach)):n&&this.baseSetParent(this.parent,t))}}),Object.defineProperty(t.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.fireInternalHook(e);var r=this.storedValue&&"object"==typeof this.storedValue&&this.storedValue[e];"function"==typeof r&&(Nt?Nt((function(){r.apply(t.storedValue)})):r.apply(this.storedValue))}}),Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshotComputed.get()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.isAlive?2===this._observableInstanceState?this._getActualSnapshot():this._getCachedInitialSnapshot():this._snapshotUponDeath}}),Object.defineProperty(t.prototype,"_getActualSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(t.prototype,"_getCachedInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this._cachedInitialSnapshotCreated){var e=this.type,t=this._childNodes,r=this._initialSnapshot;this._cachedInitialSnapshot=e.processInitialSnapshot(t,r),this._cachedInitialSnapshotCreated=!0}return this._cachedInitialSnapshot}}),Object.defineProperty(t.prototype,"isRunningAction",{enumerable:!1,configurable:!0,writable:!0,value:function(){return!!this._isRunningAction||!this.isRoot&&this.parent.isRunningAction()}}),Object.defineProperty(t.prototype,"assertAlive",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,r="warn";if(!this.isAlive){var n=this._getAssertAliveError(e);switch(r){case"error":throw li(n);case"warn":t=n,console.warn(new Error("[mobx-state-tree] "+t))}}}}),Object.defineProperty(t.prototype,"_getAssertAliveError",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getEscapedPath(!1)||this.pathUponDeath||"",r=e.subpath&&Ei(e.subpath)||"",n=e.actionContext||Rn;n&&"action"!==n.type&&n.parentActionEvent&&(n=n.parentActionEvent);var i,a="";return n&&null!=n.name&&(a=(n&&n.context&&(Qn(i=n.context,1),ei(i).path)||t)+"."+n.name+"()"),"You are trying to read or write to an object that is no longer part of a state tree. (Object type: '"+this.type.name+"', Path upon death: '"+t+"', Subpath: '"+r+"', Action: '"+a+"'). Either detach nodes first, or don't use objects after removing / replacing them in the tree."}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.assertAlive({subpath:e}),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildNode(this,e):this._childNodes[e]}finally{this._autoUnbox=!0}}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertAlive(ui),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildren(this):ii(this._childNodes)}finally{this._autoUnbox=!0}}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.type.getChildType(e)}}),Object.defineProperty(t.prototype,"isProtected",{get:function(){return this.root.isProtectionEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"assertWritable",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.assertAlive(e),!this.isRunningAction()&&this.isProtected)throw li("Cannot modify '"+this+"', the object is protected and can only be modified by using an action.")}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.type.removeChild(this,e)}}),Object.defineProperty(t.prototype,"unbox",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e?(this.assertAlive({subpath:e.subpath||e.subpathUponDeath}),this._autoUnbox?e.value:e):e}}),Object.defineProperty(t.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>",t=this.identifier?"(id: "+this.identifier+")":"";return this.type.name+"@"+e+t+(this.isAlive?"":" [dead]")}}),Object.defineProperty(t.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.baseFinalizeCreation((function(){var t,r;try{for(var n=dn(e.getChildren()),i=n.next();!i.done;i=n.next())i.value.finalizeCreation()}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}e.fireInternalHook(fn.afterCreationFinalization)}))}}),Object.defineProperty(t.prototype,"detach",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isAlive)throw li("Error while detaching, node is not alive.");this.clearParent()}}),Object.defineProperty(t.prototype,"preboot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this._applyPatches=Mn(this.storedValue,"@APPLY_PATCHES",(function(t){t.forEach((function(t){if(t.path){var r=function(e){var t=e.split("/").map(Ti);if(!(""===e||"."===e||".."===e||Oi(e,"/")||Oi(e,"./")||Oi(e,"../")))throw li("a json path must be either rooted, empty or relative, but got '"+e+"'");return""===t[0]&&t.shift(),t}(t.path);ni(e,r.slice(0,-1)).applyPatchLocally(r[r.length-1],t)}else e.type.applySnapshot(e,t.value)}))})),this._applySnapshot=Mn(this.storedValue,"@APPLY_SNAPSHOT",(function(t){if(t!==e.snapshot)return e.type.applySnapshot(e,t)})),gi(this.storedValue,"$treenode",this),gi(this.storedValue,"toJSON",ri)}}),Object.defineProperty(t.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isAlive&&this.state!==qn.DETACHING&&(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(t.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){0!==this._observableInstanceState&&(this.getChildren().forEach((function(e){e.aboutToDie()})),this.baseAboutToDie(),this._internalEventsEmit("dispose"),this._internalEventsClear("dispose"))}}),Object.defineProperty(t.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.getChildren().forEach((function(e){e.finalizeDeath()})),this.root.identifierCache.notifyDied(this);var e=this.snapshot;this._snapshotUponDeath=e,this._internalEventsClearAll(),this.baseFinalizeDeath()}}),Object.defineProperty(t.prototype,"onSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._addSnapshotReaction(),this._internalEventsRegister("snapshot",e)}}),Object.defineProperty(t.prototype,"emitSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._internalEventsEmit("snapshot",e)}}),Object.defineProperty(t.prototype,"onPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._internalEventsRegister("patch",e)}}),Object.defineProperty(t.prototype,"emitPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this._internalEventsHasSubscribers("patch")){var r=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0;n<t.length;n++){var i=t[n];for(var a in i)e[a]=i[a]}return e}({},e,{path:t.path.substr(this.path.length)+"/"+e.path}),n=vn(function(e){if(!("oldValue"in e))throw li("Patches without `oldValue` field cannot be inversed");return[Si(e),Ai(e)]}(r),2),i=n[0],a=n[1];this._internalEventsEmit("patch",i,a)}this.parent&&this.parent.emitPatch(e,t)}}),Object.defineProperty(t.prototype,"hasDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._internalEventsHas("dispose",e)}}),Object.defineProperty(t.prototype,"addDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.hasDisposer(e))throw li("cannot add a disposer when it is already registered for execution");this._internalEventsRegister("dispose",e,!0)}}),Object.defineProperty(t.prototype,"removeDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._internalEventsHas("dispose",e))throw li("cannot remove a disposer which was never registered for execution");this._internalEventsUnregister("dispose",e)}}),Object.defineProperty(t.prototype,"removeMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.middlewares){var t=this.middlewares.indexOf(e);t>=0&&this.middlewares.splice(t,1)}}}),Object.defineProperty(t.prototype,"addMiddleWare",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;void 0===t&&(t=!0);var n={handler:e,includeHooks:t};return this.middlewares?this.middlewares.push(n):this.middlewares=[n],function(){r.removeMiddleware(n)}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.assertWritable({subpath:e}),this.createObservableInstanceIfNeeded(),this.type.applyPatchLocally(this,e,t)}}),Object.defineProperty(t.prototype,"_addSnapshotReaction",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(!this._hasSnapshotReaction){var t=function(t,r,n){var i,a,o,u;void 0===n&&(n=c);var s,l,f,p,b=null!=(i=n.name)?i:"Reaction",h=Tt(b,n.onError?(s=n.onError,l=r,function(){try{return l.apply(this,arguments)}catch(e){s.call(this,e)}}):r),d=!n.scheduler&&!n.delay,v=Dt(n),y=!0,g=!1,m=n.compareStructural?W.structural:n.equals||W.default,_=new dt(b,(function(){y||d?w():g||(g=!0,v(w))}),n.onError,n.requiresObservable);function w(){if(g=!1,!_.isDisposed_){var t=!1;_.track((function(){var r=Me(!1,(function(){return e.snapshot}));t=y||!m(f,r),p=f,f=r})),(y&&n.fireImmediately||!y&&t)&&h(f,p,_),y=!1}}return null!=(a=n)&&null!=(o=a.signal)&&o.aborted||_.schedule_(),_.getDisposer_(null==(u=n)?void 0:u.signal)}(0,(function(t){return e.emitSnapshot(t)}),En);this.addDisposer(t),this._hasSnapshotReaction=!0}}}),Object.defineProperty(t.prototype,"_internalEventsHasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return!!this._internalEvents&&this._internalEvents.hasSubscribers(e)}}),Object.defineProperty(t.prototype,"_internalEventsRegister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){return void 0===r&&(r=!1),this._internalEvents||(this._internalEvents=new _i),this._internalEvents.register(e,t,r)}}),Object.defineProperty(t.prototype,"_internalEventsHas",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return!!this._internalEvents&&this._internalEvents.has(e,t)}}),Object.defineProperty(t.prototype,"_internalEventsUnregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._internalEvents&&this._internalEvents.unregister(e,t)}}),Object.defineProperty(t.prototype,"_internalEventsEmit",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this._internalEvents&&(t=this._internalEvents).emit.apply(t,yn([e],r))}}),Object.defineProperty(t.prototype,"_internalEventsClear",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._internalEvents&&this._internalEvents.clear(e)}}),Object.defineProperty(t.prototype,"_internalEventsClearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._internalEvents&&this._internalEvents.clearAll()}}),t}(On);Tn.prototype.createObservableInstance=Tt(Tn.prototype.createObservableInstance),Tn.prototype.detach=Tt(Tn.prototype.detach),Tn.prototype.die=Tt(Tn.prototype.die),function(e){e[e.String=1]="String",e[e.Number=2]="Number",e[e.Boolean=4]="Boolean",e[e.Date=8]="Date",e[e.Literal=16]="Literal",e[e.Array=32]="Array",e[e.Map=64]="Map",e[e.Object=128]="Object",e[e.Frozen=256]="Frozen",e[e.Optional=512]="Optional",e[e.Reference=1024]="Reference",e[e.Identifier=2048]="Identifier",e[e.Late=4096]="Late",e[e.Refinement=8192]="Refinement",e[e.Union=16384]="Union",e[e.Null=32768]="Null",e[e.Undefined=65536]="Undefined",e[e.Integer=131072]="Integer",e[e.Custom=262144]="Custom",e[e.SnapshotProcessor=524288]="SnapshotProcessor",e[e.Lazy=1048576]="Lazy",e[e.Finite=2097152]="Finite",e[e.Float=4194304]="Float"}(Sn||(Sn={}));var In="cannotDetermine",Nn=Symbol("$type"),Cn=function(){function e(e){Object.defineProperty(this,jn,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"C",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"S",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"T",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"N",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isType",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e}return Object.defineProperty(e.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return Wn(this,e),this.instantiate(null,"",t,e).value}}),Object.defineProperty(e.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){throw li("unimplemented method")}}),Object.defineProperty(e.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e===this}}),Object.defineProperty(e.prototype,"validate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(ti(e)){var r=gn(e);return this.isAssignableFrom(r)?Hn():Gn(t,e)}return this.isValidSnapshot(e,t)}}),Object.defineProperty(e.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return 0===this.validate(e,[{path:"",type:this}]).length}}),Object.defineProperty(e.prototype,"Type",{get:function(){throw li("Factory.Type should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.Type`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"TypeWithoutSTN",{get:function(){throw li("Factory.TypeWithoutSTN should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.TypeWithoutSTN`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SnapshotType",{get:function(){throw li("Factory.SnapshotType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.SnapshotType`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CreationType",{get:function(){throw li("Factory.CreationType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.CreationType`")},enumerable:!1,configurable:!0}),e}();jn=Nn,Cn.prototype.create=Tt(Cn.prototype.create);var Vn=function(e){function t(t){var r=e.call(this,t)||this;return Object.defineProperty(r,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r}return bn(t,e),Object.defineProperty(t.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(t,r){return void 0===t&&(t=this.getDefaultSnapshot()),e.prototype.create.call(this,t,r)}}),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.createObservableInstanceIfNeeded(),e.storedValue}}),Object.defineProperty(t.prototype,"isMatchingSnapshotId",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return!e.identifierAttribute||e.identifier===Ia(t[e.identifierAttribute])}}),Object.defineProperty(t.prototype,"tryToReconcileNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return!(e.isDetaching||e.snapshot!==t&&(!Zn(t)||ei(t)!==e)&&(e.type!==this||!di(t)||Zn(t)||!this.isMatchingSnapshotId(e,t)||(e.applySnapshot(t),0)))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(this.tryToReconcileNode(e,t))return e.setParent(r,n),e;if(e.die(),Zn(t)&&this.isAssignableFrom(gn(t))){var i=ei(t);return i.setParent(r,n),i}return this.instantiate(r,n,void 0,t)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),t}(Cn);Vn.prototype.create=Tt(Vn.prototype.create);var xn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bn(t,e),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e}}),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(!e.isDetaching&&e.type===this&&e.storedValue===t)return e;var i=this.instantiate(r,n,void 0,t);return e.die(),i}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),t}(Cn);function Dn(e){return"object"==typeof e&&e&&!0===e.isType}function kn(e,t){Pi()}new Map,function(){function e(e,t){Object.defineProperty(this,"hooks",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"call",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"flowsPending",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"running",{enumerable:!0,configurable:!0,writable:!0,value:!0}),e&&e.onStart(t)}Object.defineProperty(e.prototype,"finish",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.running&&(this.running=!1,this.hooks&&this.hooks.onFinish(this.call,e))}}),Object.defineProperty(e.prototype,"incFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending++}}),Object.defineProperty(e.prototype,"decFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending--}}),Object.defineProperty(e.prototype,"hasFlowsPending",{get:function(){return this.flowsPending>0},enumerable:!1,configurable:!0})}();var Rn,Ln=1;function Mn(e,t,r){var n=function(){var n=Ln++,i=Rn,a=function(e){if(e)return"action"===e.type?e:e.parentActionEvent}(i);return function(e,t){var r=ei(e.context);"action"===e.type&&r.assertAlive({actionContext:e});var n=r._isRunningAction;r._isRunningAction=!0;var i=Rn;Rn=e;try{return function(e,t,r){var n=new zn(e,r);if(n.isEmpty)return Tt(r).apply(null,t.args);var i=null;return function e(t){var a=n.getNextMiddleware(),o=a&&a.handler;return o?!a.includeHooks&&fn[t.name]?e(t):(o(t,(function(t,r){i=e(t),r&&(i=r(i))}),(function(e){i=e})),i):Tt(r).apply(null,t.args)}(t)}(r,e,t)}finally{Rn=i,r._isRunningAction=n}}({type:"action",name:t,id:n,args:wi(arguments),context:e,tree:wn(e),rootId:i?i.rootId:n,parentId:i?i.id:0,allParentIds:i?yn(i.allParentIds,[i.id]):[],parentEvent:i,parentActionEvent:a},r)};return n._isMSTAction=!0,n._isFlowAction=r._isFlowAction,n}var zn=function(){function e(e,t){Object.defineProperty(this,"arrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"inArrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:[]}),t.$mst_middleware&&this.middlewares.push(t.$mst_middleware);for(var r=e;r;)r.middlewares&&this.middlewares.push(r.middlewares),r=r.parent}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.middlewares.length<=0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getNextMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.middlewares[this.arrayIndex];if(e)return e[this.inArrayIndex++]||(this.arrayIndex++,this.inArrayIndex=0,this.getNextMiddleware())}}),e}();function Un(e){return"function"==typeof e?"<function"+(e.name?" "+e.name:"")+">":Zn(e)?"<"+e+">":"`"+function(e){try{return JSON.stringify(e)}catch(e){return"<Unserializable: "+e+">"}}(e)+"`"}function Bn(e){var t=e.value,r=e.context[e.context.length-1].type,n=e.context.map((function(e){return e.path})).filter((function(e){return e.length>0})).join("/"),i=n.length>0?'at path "/'+n+'" ':"",a=Zn(t)?"value of type "+ei(t).type.name+":":vi(t)?"value":"snapshot",o=r&&Zn(t)&&r.is(ei(t).snapshot);return""+i+a+" "+Un(t)+" is not assignable "+(r?"to type: `"+r.name+"`":"")+(e.message?" ("+e.message+")":"")+(r?function(e){return Dn(e)&&(e.flags&(Sn.String|Sn.Number|Sn.Integer|Sn.Boolean|Sn.Date))>0}(r)||vi(t)?".":", expected an instance of `"+r.name+"` or a snapshot like `"+r.describe()+"` instead."+(o?" (Note that a snapshot of the provided value is compatible with the targeted type)":""):".")}function Fn(e,t,r){return e.concat([{path:t,type:r}])}function Hn(){return oi}function Gn(e,t,r){return[{context:e,value:t,message:r}]}function Kn(e){return e.reduce((function(e,t){return e.concat(t)}),[])}function Wn(e,t){"undefined"!=typeof process&&process.env&&"true"===process.env.ENABLE_TYPE_CHECK&&function(e,t){var r=e.validate(t,[{path:"",type:e}]);if(r.length>0)throw li(function(e,t,r){var n;if(0!==r.length)return"Error while converting "+(((n=Un(t)).length<280?n:n.substring(0,272)+"......"+n.substring(n.length-8))+" to `")+e.name+"`:\n\n    "+r.map(Bn).join("\n    ")}(e,t,r))}(e,t)}var qn,Yn=0,$n=function(){function e(){Object.defineProperty(this,"cacheId",{enumerable:!0,configurable:!0,writable:!0,value:Yn++}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:Ae.map()}),Object.defineProperty(this,"lastCacheModificationPerId",{enumerable:!0,configurable:!0,writable:!0,value:Ae.map()})}return Object.defineProperty(e.prototype,"updateLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.lastCacheModificationPerId.get(e);this.lastCacheModificationPerId.set(e,void 0===t?1:t+1)}}),Object.defineProperty(e.prototype,"getLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.lastCacheModificationPerId.get(e)||0;return this.cacheId+"-"+t}}),Object.defineProperty(e.prototype,"addNodeToCache",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(void 0===t&&(t=!0),e.identifierAttribute){var r=e.identifier;this.cache.has(r)||this.cache.set(r,Ae.array([],si));var n=this.cache.get(r);if(-1!==n.indexOf(e))throw li("Already registered");n.push(e),t&&this.updateLastCacheModificationPerId(r)}}}),Object.defineProperty(e.prototype,"mergeCache",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;Jt(e.identifierCache.cache).forEach((function(e){return e.forEach((function(e){t.addNodeToCache(e)}))}))}}),Object.defineProperty(e.prototype,"notifyDied",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.identifierAttribute){var t=e.identifier,r=this.cache.get(t);r&&(r.remove(e),r.length||this.cache.delete(t),this.updateLastCacheModificationPerId(e.identifier))}}}),Object.defineProperty(e.prototype,"splitCache",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var n,i=this,a=new e,o=t.path+"/";return(n=this.cache,Br(n)?$t(n).map((function(e){return[e,n[e]]})):Cr(n)?$t(n).map((function(e){return[e,n.get(e)]})):Dr(n)?Array.from(n.entries()):jr(n)?n.map((function(e,t){return[t,e]})):void r(7)).forEach((function(e){for(var r=vn(e,2),n=r[0],u=r[1],s=!1,l=u.length-1;l>=0;l--){var c=u[l];c!==t&&0!==c.path.indexOf(o)||(a.addNodeToCache(c,!1),u.splice(l,1),u.length||i.cache.delete(n),s=!0)}s&&i.updateLastCacheModificationPerId(n)})),a}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.cache.get(t);return!!r&&r.some((function(t){return e.isAssignableFrom(t.type)}))}}),Object.defineProperty(e.prototype,"resolve",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.cache.get(t);if(!r)return null;var n=r.filter((function(t){return e.isAssignableFrom(t.type)}));switch(n.length){case 0:return null;case 1:return n[0];default:throw li("Cannot resolve a reference to type '"+e.name+"' with id: '"+t+"' unambigously, there are multiple candidates: "+n.map((function(e){return e.path})).join(", "))}}}),e}();function Jn(e,t,r,n,i){var a=ti(i);if(a){if(a.parent)throw li("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+(t?t.path:"")+"/"+r+"', but it lives already at '"+a.path+"'");return t&&a.setParent(t,r),a}return new Tn(e,t,r,n,i)}function Xn(e,t,r,n,i){return new Pn(e,t,r,n,i)}function Zn(e){return!(!e||!e.$treenode)}function Qn(e,t){Pi()}function ei(e){if(!Zn(e))throw li("Value "+e+" is no MST Node");return e.$treenode}function ti(e){return e&&e.$treenode||null}function ri(){return ei(this).snapshot}function ni(e,t,r){void 0===r&&(r=!0);var n=e;try{for(var i=0;i<t.length;i++){var a=t[i];if(".."===a){if(n=n.parent)continue}else{if("."===a)continue;if(n){if(n instanceof Pn){var o=n.value;Zn(o)&&(n=ei(o))}if(n instanceof Tn&&n.getChildType(a)&&(n=n.getChildNode(a)))continue}}throw li("Could not resolve '"+a+"' in path '"+(Ii(t.slice(0,i))||"/")+"' while resolving '"+Ii(t)+"'")}}catch(e){if(!r)return;throw e}return n}function ii(e){if(!e)return oi;var t=Object.keys(e);if(!t.length)return oi;var r=new Array(t.length);return t.forEach((function(t,n){r[n]=e[t]})),r}!function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CREATED=1]="CREATED",e[e.FINALIZED=2]="FINALIZED",e[e.DETACHING=3]="DETACHING",e[e.DEAD=4]="DEAD"}(qn||(qn={}));var ai=Object.toString(),oi=Object.freeze([]),ui=Object.freeze({}),si=ut.useProxies?{deep:!1}:{deep:!1,proxy:!1};function li(e){return void 0===e&&(e="Illegal state"),new Error("[mobx-state-tree] "+e)}function ci(e){return e}Object.freeze(si);var fi=Number.isInteger;function pi(e){return Array.isArray(e)||jr(e)}function bi(e){return e?pi(e)?e:[e]:oi}function hi(e){var t;if(null===e||"object"!=typeof e)return!1;var r=Object.getPrototypeOf(e);return null==r||(null===(t=r.constructor)||void 0===t?void 0:t.toString())===ai}function di(e){return!(null===e||"object"!=typeof e||e instanceof Date||e instanceof RegExp)}function vi(e,t){return void 0===t&&(t=!0),null==e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||t&&e instanceof Date}function yi(e){return"function"!=typeof e}function gi(e,t,r){!function(e,t,r){Br(e)?Zt(e,t,r):Object.defineProperty(e,t,r)}(e,t,{enumerable:!1,writable:!1,configurable:!0,value:r})}var mi=function(){function e(){Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}return Object.defineProperty(e.prototype,"hasSubscribers",{get:function(){return this.handlers.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;return void 0===t&&(t=!1),t?this.handlers.unshift(e):this.handlers.push(e),function(){r.unregister(e)}}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.handlers.indexOf(e)>=0}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.handlers.indexOf(e);t>=0&&this.handlers.splice(t,1)}}),Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.handlers.length=0}}),Object.defineProperty(e.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.handlers.slice().forEach((function(t){return t.apply(void 0,yn(e))}))}}),e}(),_i=function(){function e(){Object.defineProperty(this,"eventHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(e.prototype,"hasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.eventHandlers&&this.eventHandlers[e];return!!t&&t.hasSubscribers}}),Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){void 0===r&&(r=!1),this.eventHandlers||(this.eventHandlers={});var n=this.eventHandlers[e];return n||(n=this.eventHandlers[e]=new mi),n.register(t,r)}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.eventHandlers&&this.eventHandlers[e];return!!r&&r.has(t)}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.eventHandlers&&this.eventHandlers[e];r&&r.unregister(t)}}),Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.eventHandlers&&delete this.eventHandlers[e]}}),Object.defineProperty(e.prototype,"clearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.eventHandlers=void 0}}),Object.defineProperty(e.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=this.eventHandlers&&this.eventHandlers[e];i&&(t=i).emit.apply(t,yn(r))}}),e}();function wi(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e[r];return t}function Oi(e,t){return 0===e.indexOf(t)}function Pi(e,t,r,n){}function ji(e,t,r){void 0===r&&(r=!0)}function Si(e){switch(e.op){case"add":return{op:"add",path:e.path,value:e.value};case"remove":return{op:"remove",path:e.path};case"replace":return{op:"replace",path:e.path,value:e.value}}}function Ai(e){switch(e.op){case"add":return{op:"remove",path:e.path};case"remove":return{op:"add",path:e.path,value:e.oldValue};case"replace":return{op:"replace",path:e.path,value:e.oldValue}}}function Ei(e){return 1==("number"==typeof e)?""+e:-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Ti(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Ii(e){if(0===e.length)return"";var t=function(e){return e.map(Ei).join("/")};return"."===e[0]||".."===e[0]?t(e):"/"+t(e)}var Ni,Ci=Symbol("$preProcessorFailed"),Vi=function(e){function t(t,r,n){var i=e.call(this,n||t.name)||this;return Object.defineProperty(i,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(i,"_processors",{enumerable:!0,configurable:!0,writable:!0,value:r}),i}return bn(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|Sn.SnapshotProcessor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"snapshotProcessor("+this._subtype.describe()+")"}}),Object.defineProperty(t.prototype,"preProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._processors.preProcessor?this._processors.preProcessor.call(null,e):e}}),Object.defineProperty(t.prototype,"preProcessSnapshotSafe",{enumerable:!1,configurable:!0,writable:!0,value:function(e){try{return this.preProcessSnapshot(e)}catch(e){return Ci}}}),Object.defineProperty(t.prototype,"postProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._processors.postProcessor?this._processors.postProcessor.call(null,e):e}}),Object.defineProperty(t.prototype,"_fixNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;!function(e,t){for(var r,n,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];try{for(var o=dn(i),u=o.next();!u.done;u=o.next()){var s=u.value;e[s]=t[s].bind(t)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}(e.type,this,"create");var r=e.getSnapshot;e.getSnapshot=function(){return t.postProcessSnapshot(r.call(e))},(this._subtype.flags&Sn.Union)>0||(e.getReconciliationType=function(){return t})}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=Zn(n)?n:this.preProcessSnapshot(n),a=this._subtype.instantiate(e,t,r,i);return this._fixNode(a),a}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=this._subtype.reconcile(e,Zn(t)?t:this.preProcessSnapshot(t),r,n);return i!==e&&this._fixNode(i),i}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t=!0);var r=this._subtype.getSnapshot(e);return t?this.postProcessSnapshot(r):r}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.preProcessSnapshotSafe(e);return r===Ci?Gn(t,e,"Failed to preprocess value"):this._subtype.validate(r,t)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),Object.defineProperty(t.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Dn(e)?this._subtype:Zn(e)?_n(e,!1):this.preProcessSnapshotSafe(e);return t!==Ci&&0===this._subtype.validate(t,[{path:"",type:this._subtype}]).length}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"isMatchingSnapshotId",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!(this._subtype instanceof Vn))return!1;var r=this.preProcessSnapshot(t);return this._subtype.isMatchingSnapshotId(e,r)}}),t}(Cn),xi="Map.put can only be used to store complex values that have an identifier type attribute";function Di(e,t){var r,n,i=e.getSubTypes();if(i===In)return!1;if(i){var a=bi(i);try{for(var o=dn(a),u=o.next();!u.done;u=o.next())if(!Di(u.value,t))return!1}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}return e instanceof Ki&&t.push(e),!0}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.YES=1]="YES",e[e.NO=2]="NO"}(Ni||(Ni={}));var ki=function(e){function t(t,r){return e.call(this,t,Ae.ref.enhancer,r)||this}return bn(t,e),Object.defineProperty(t.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.get.call(this,""+t)}}),Object.defineProperty(t.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.has.call(this,""+t)}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.delete.call(this,""+t)}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(t,r){return e.prototype.set.call(this,""+t,r)}}),Object.defineProperty(t.prototype,"put",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!e)throw li("Map.put cannot be used to set empty values");if(Zn(e)){var t=ei(e);if(null===t.identifier)throw li(xi);return this.set(t.identifier,e),e}if(di(e)){var r=ei(this),n=r.type;if(n.identifierMode!==Ni.YES)throw li(xi);var i=e[n.mapIdentifierAttribute];if(!Na(i)){var a=this.put(n.getChildType().create(e,r.environment));return this.put(_n(a))}var o=Ia(i);return this.set(o,e),this.get(o)}throw li("Map.put can only be used to store complex values")}}),t}(Nr),Ri=function(e){function t(t,r,n){void 0===n&&(n=[]);var i=e.call(this,t)||this;return Object.defineProperty(i,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"identifierMode",{enumerable:!0,configurable:!0,writable:!0,value:Ni.UNKNOWN}),Object.defineProperty(i,"mapIdentifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Sn.Map}),Object.defineProperty(i,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),i._determineIdentifierMode(),i.hookInitializers=n,i}return bn(t,e),Object.defineProperty(t.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,r)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this._determineIdentifierMode(),Jn(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"_determineIdentifierMode",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.identifierMode===Ni.UNKNOWN){var e=[];if(Di(this._subType,e)){var t=e.reduce((function(e,t){if(!t.identifierAttribute)return e;if(e&&e!==t.identifierAttribute)throw li("The objects in a map should all have the same identifier attribute, expected '"+e+"', but child of type '"+t.name+"' declared attribute '"+t.identifierAttribute+"' as identifier");return t.identifierAttribute}),void 0);t?(this.identifierMode=Ni.YES,this.mapIdentifierAttribute=t):this.identifierMode=Ni.NO}}}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t={});var r=e.type._subType,n={};return Object.keys(t).forEach((function(i){n[i]=r.instantiate(e,i,void 0,t[i])})),n}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return new ki(e,this.name)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){Wt(t,e.unbox),e.type.hookInitializers.forEach((function(e){var r=e(t);Object.keys(r).forEach((function(e){var n=r[e],i=Mn(t,e,n);gi(t,e,i)}))})),qt(t,this.willChange),Qt(t,this.didChange)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return Jt(e.storedValue)}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=e.storedValue.get(""+t);if(!r)throw li("Not a child "+t);return r}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=ei(e.object),r=e.name;t.assertWritable({subpath:r});var n=t.type,i=n._subType;switch(e.type){case"update":var a=e.newValue;if(a===e.object.get(r))return null;Wn(i,a),e.newValue=i.reconcile(t.getChildNode(r),e.newValue,t,r),n.processIdentifier(r,e.newValue);break;case"add":Wn(i,e.newValue),e.newValue=i.instantiate(t,r,void 0,e.newValue),n.processIdentifier(r,e.newValue)}return e}}),Object.defineProperty(t.prototype,"processIdentifier",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this.identifierMode===Ni.YES&&t instanceof Tn){var r=t.identifier;if(r!==e)throw li("A map of objects containing an identifier should always store the object under their own identifier. Trying to store key '"+r+"', but expected: '"+e+"'")}}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return e.getChildren().forEach((function(e){t[e.subpath]=e.snapshot})),t}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].getSnapshot()})),t}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=ei(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:Ei(e.name),value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"add":return void t.emitPatch({op:"add",path:Ei(e.name),value:e.newValue.snapshot,oldValue:void 0},t);case"delete":var r=e.oldValue.snapshot;return e.oldValue.die(),void t.emitPatch({op:"remove",path:Ei(e.name),oldValue:r},t)}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){var n=e.storedValue;switch(r.op){case"add":case"replace":n.set(t,r.value);break;case"remove":n.delete(t)}}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){Wn(this,t);var r=e.storedValue,n={};if(Array.from(r.keys()).forEach((function(e){n[e]=!1})),t)for(var i in t)r.set(i,t[i]),n[""+i]=!0;Object.keys(n).forEach((function(e){!1===n[e]&&r.delete(e)}))}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;return hi(e)?Kn(Object.keys(e).map((function(n){return r._subType.validate(e[n],Fn(t,n,r._subType))}))):Gn(t,e,"Value is not a plain object")}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return ui}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue.delete(t)}}),t}(Vn);Ri.prototype.applySnapshot=Tt(Ri.prototype.applySnapshot);var Li=function(e){function t(t,r,n){void 0===n&&(n=[]);var i=e.call(this,t)||this;return Object.defineProperty(i,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Sn.Array}),Object.defineProperty(i,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),i.hookInitializers=n,i}return bn(t,e),Object.defineProperty(t.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,r)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return Jn(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t=[]);var r=e.type._subType,n={};return t.forEach((function(t,i){var a=""+i;n[a]=r.instantiate(e,a,void 0,t)})),n}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=hn(hn({},si),{name:this.name});return Ae.array(ii(e),t)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){tn(t).dehancer=e.unbox,e.type.hookInitializers.forEach((function(e){var r=e(t);Object.keys(r).forEach((function(e){var n=r[e],i=Mn(t,e,n);gi(t,e,i)}))})),qt(t,this.willChange),Qt(t,this.didChange)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue.slice()}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=Number(t);if(r<e.storedValue.length)return e.storedValue[r];throw li("Not a child: "+t)}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=ei(e.object);t.assertWritable({subpath:""+e.index});var r=t.type._subType,n=t.getChildren();switch(e.type){case"update":if(e.newValue===e.object[e.index])return null;var i=Mi(t,r,[n[e.index]],[e.newValue],[e.index]);if(!i)return null;e.newValue=i[0];break;case"splice":var a=e.index,o=e.removedCount,u=e.added,s=Mi(t,r,n.slice(a,a+o),u,u.map((function(e,t){return a+t})));if(!s)return null;e.added=s;for(var l=a+o;l<n.length;l++)n[l].setParent(t,""+(l+u.length-o))}return e}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.getChildren().map((function(e){return e.snapshot}))}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=[];return Object.keys(e).forEach((function(r){t.push(e[r].getSnapshot())})),t}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=ei(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:""+e.index,value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"splice":for(var r=e.removedCount-1;r>=0;r--)t.emitPatch({op:"remove",path:""+(e.index+r),oldValue:e.removed[r].snapshot},t);for(r=0;r<e.addedCount;r++)t.emitPatch({op:"add",path:""+(e.index+r),value:t.getChildNode(""+(e.index+r)).snapshot,oldValue:void 0},t);return}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){var n=e.storedValue,i="-"===t?n.length:Number(t);switch(r.op){case"replace":n[i]=r.value;break;case"add":n.splice(i,0,r.value);break;case"remove":n.splice(i,1)}}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){Wn(this,t),e.storedValue.replace(t)}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;return pi(e)?Kn(e.map((function(e,n){return r._subType.validate(e,Fn(t,""+n,r._subType))}))):Gn(t,e,"Value is not an array")}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return oi}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue.splice(Number(t),1)}}),t}(Vn);function Mi(e,t,r,n,i){for(var a,o=!0,u=0;;u++){var s=u<=n.length-1,l=r[u],c=s?n[u]:void 0,f=""+i[u];if(((a=c)instanceof Pn||a instanceof Tn)&&(c=c.storedValue),!l&&!s)break;if(s)if(l)if(Ui(l,c))r[u]=zi(t,e,f,c,l);else{for(var p=void 0,b=u;b<r.length;b++)if(Ui(r[b],c)){p=r.splice(b,1)[0];break}o=!1,h=zi(t,e,f,c,p),r.splice(u,0,h)}else{if(Zn(c)&&ei(c).parent===e)throw li("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+e.path+"/"+f+"', but it lives already at '"+ei(c).path+"'");o=!1;var h=zi(t,e,f,c);r.splice(u,0,h)}else o=!1,r.splice(u,1),l instanceof Tn&&l.createObservableInstanceIfNeeded(),l.die(),u--}return o?null:r}function zi(e,t,r,n,i){Wn(e,n);var a=function(){if(Zn(n)){var a=ei(n);if(a.assertAlive(ui),null!==a.parent&&a.parent===t)return a.setParent(t,r),a}return i?e.reconcile(i,n,t,r):e.instantiate(t,r,void 0,n)}();return i&&i!==a&&(i instanceof Tn&&i.createObservableInstanceIfNeeded(),i.die()),a}function Ui(e,t){if(!e.isAlive)return!1;if(Zn(t)){var r=ei(t);return r.isAlive&&r===e}if(e.snapshot===t)return!0;if(!(e instanceof Tn))return!1;var n=e.getReconciliationType();return null!==e.identifier&&e.identifierAttribute&&hi(t)&&n.is(t)&&n.isMatchingSnapshotId(e,t)}Li.prototype.applySnapshot=Tt(Li.prototype.applySnapshot);var Bi="preProcessSnapshot",Fi="postProcessSnapshot";function Hi(){return ei(this).toString()}var Gi={name:"AnonymousModel",properties:{},initializers:oi};var Ki=function(e){function t(t){var r,n,i,a=e.call(this,t.name||Gi.name)||this;return Object.defineProperty(a,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Sn.Object}),Object.defineProperty(a,"initializers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"properties",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"preProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"postProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"propertyNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"named",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return a.cloneAndEnhance({name:e})}}),Object.defineProperty(a,"props",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return a.cloneAndEnhance({properties:e})}}),Object.defineProperty(a,"preProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var t=a.preProcessor;return t?a.cloneAndEnhance({preProcessor:function(r){return t(e(r))}}):a.cloneAndEnhance({preProcessor:e})}}),Object.defineProperty(a,"postProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var t=a.postProcessor;return t?a.cloneAndEnhance({postProcessor:function(r){return e(t(r))}}):a.cloneAndEnhance({postProcessor:e})}}),Object.assign(a,Gi,t),a.properties=(r=a.properties,n=Object.keys(r),i={},n.forEach((function(e){if(i[e])throw li(e+" is declared twice in the model. Model should not contain same keys");i[e]=!0})),n.reduce((function(e,t){var r,n,i;if(t in fn)throw li("Hook '"+t+"' was defined as property. Hooks should be defined as part of the actions");var a=Object.getOwnPropertyDescriptor(e,t);if("get"in a)throw li("Getters are not supported as properties. Please use views instead");var o=a.value;if(null==o)throw li("The default value of an attribute cannot be null or undefined as the type cannot be inferred. Did you mean `types.maybe(someType)`?");if(vi(o))return Object.assign({},e,((r={})[t]=la(function(e){switch(typeof e){case"string":return qi;case"number":return Yi;case"boolean":return Zi;case"object":if(e instanceof Date)return ra}throw li("Cannot determine primitive type from value "+e)}(o),o),r));if(o instanceof Ri)return Object.assign({},e,((n={})[t]=la(o,{}),n));if(o instanceof Li)return Object.assign({},e,((i={})[t]=la(o,[]),i));if(Dn(o))return e;throw li("Invalid type definition for property '"+t+"', cannot infer a type from a value like '"+o+"' ("+typeof o+")")}),r)),a.properties,a.propertyNames=Object.keys(a.properties),a.identifierAttribute=a._getIdentifierAttribute(),a}return bn(t,e),Object.defineProperty(t.prototype,"_getIdentifierAttribute",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=void 0;return this.forAllProps((function(t,r){if(r.flags&Sn.Identifier){if(e)throw li("Cannot define property '"+t+"' as object identifier, property '"+e+"' is already defined as identifier property");e=t}})),e}}),Object.defineProperty(t.prototype,"cloneAndEnhance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return new t({name:e.name||this.name,properties:Object.assign({},this.properties,e.properties),initializers:this.initializers.concat(e.initializers||[]),preProcessor:e.preProcessor||this.preProcessor,postProcessor:e.postProcessor||this.postProcessor})}}),Object.defineProperty(t.prototype,"actions",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(r){return t.instantiateActions(r,e(r)),r}]})}}),Object.defineProperty(t.prototype,"instantiateActions",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!hi(t))throw li("actions initializer should return a plain object containing actions");Object.keys(t).forEach((function(r){if(r===Bi)throw li("Cannot define action '"+Bi+"', it should be defined using 'type.preProcessSnapshot(fn)' instead");if(r===Fi)throw li("Cannot define action '"+Fi+"', it should be defined using 'type.postProcessSnapshot(fn)' instead");var n=t[r],i=e[r];if(r in fn&&i){var a=n;n=function(){i.apply(null,arguments),a.apply(null,arguments)}}var o=n.$mst_middleware,u=n.bind(t);u._isFlowAction=n._isFlowAction||!1,u.$mst_middleware=o;var s=Mn(e,r,u);t[r]=s,gi(e,r,s)}))}}),Object.defineProperty(t.prototype,"volatile",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if("function"!=typeof e)throw li("You passed an "+typeof e+" to volatile state as an argument, when function is expected");return this.cloneAndEnhance({initializers:[function(r){return t.instantiateVolatileState(r,e(r)),r}]})}}),Object.defineProperty(t.prototype,"instantiateVolatileState",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!hi(t))throw li("volatile state initializer should return a plain object containing state");Xt(e,t)}}),Object.defineProperty(t.prototype,"extend",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(r){var n=e(r),i=n.actions,a=n.views,o=n.state,u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(n,["actions","views","state"]);for(var s in u)throw li("The `extend` function should return an object with a subset of the fields 'actions', 'views' and 'state'. Found invalid key '"+s+"'");return o&&t.instantiateVolatileState(r,o),a&&t.instantiateViews(r,a),i&&t.instantiateActions(r,i),r}]})}}),Object.defineProperty(t.prototype,"views",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(r){return t.instantiateViews(r,e(r)),r}]})}}),Object.defineProperty(t.prototype,"instantiateViews",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!hi(t))throw li("views initializer should return a plain object containing views");Object.getOwnPropertyNames(t).forEach((function(r){var n,i,a,o,u=Object.getOwnPropertyDescriptor(t,r);if("get"in u)Zt(e,r,u),i=e,(n={})[r]=Ne,a=n,nn((function(){var e=Mr(i,o)[F];null!=a||(a=function(e){return I(e,z)||w(e,z,x({},e[z])),e[z]}(i)),E(a).forEach((function(t){return e.make_(t,a[t])}))}));else{if("function"!=typeof u.value)throw li("A view member should either be a function or getter based property");gi(e,r,u.value)}}))}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return Jn(this,e,t,r,Zn(n)?n:this.applySnapshotPreProcessor(n))}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t={});var r=e.type,n={};return r.forAllProps((function(r,i){n[r]=i.instantiate(e,r,void 0,t[r])})),n}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=hn(hn({},si),{name:this.name});return Ae.object(e,ui,t)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){gi(t,"toString",Hi),this.forAllProps((function(r){Wt(t,r,e.unbox)})),this.initializers.reduce((function(e,t){return t(e)}),t),qt(t,this.willChange),Qt(t,this.didChange)}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e,r=ei(t.object),n=t.name;r.assertWritable({subpath:n});var i=r.type.properties[n];return i&&(Wn(i,t.newValue),t.newValue=i.reconcile(r.getChildNode(n),t.newValue,r,n)),t}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e,r=ei(t.object);if(r.type.properties[t.name]){var n=t.oldValue?t.oldValue.snapshot:void 0;r.emitPatch({op:"replace",path:Ei(t.name),value:t.newValue.snapshot,oldValue:n},r)}}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,r=[];return this.forAllProps((function(n){r.push(t.getChildNode(e,n))})),r}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r;if(!(t in this.properties))throw li("Not a value property: "+t);var n=tn(e.storedValue,t),i=null===(r=n.raw)||void 0===r?void 0:r.call(n);if(!i)throw li("Node not available for property "+t);return i}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;void 0===t&&(t=!0);var n={};return this.forAllProps((function(t,i){try{en(e.storedValue,t).reportObserved()}catch(e){throw li(t+" property is declared twice")}n[t]=r.getChildNode(e,t).snapshot})),t?this.applySnapshotPostProcessor(n):n}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].getSnapshot()})),this.applySnapshotPostProcessor(t)}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){if("replace"!==r.op&&"add"!==r.op)throw li("object does not support operation "+r.op);e.storedValue[t]=r.value}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){Wn(this,t);var r=this.applySnapshotPreProcessor(t);this.forAllProps((function(t){e.storedValue[t]=r[t]}))}}),Object.defineProperty(t.prototype,"applySnapshotPreProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.preProcessor;return t?t.call(null,e):e}}),Object.defineProperty(t.prototype,"applySnapshotPostProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.postProcessor;return t?t.call(null,e):e}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return ji(),this.properties[e]}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this,n=this.applySnapshotPreProcessor(e);return hi(n)?Kn(this.propertyNames.map((function(e){return r.properties[e].validate(n[e],Fn(t,e,r.properties[e]))}))):Gn(t,n,"Value is not a plain object")}}),Object.defineProperty(t.prototype,"forAllProps",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.propertyNames.forEach((function(r){return e(r,t.properties[r])}))}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;return"{ "+this.propertyNames.map((function(t){return t+": "+e.properties[t].describe()})).join("; ")+" }"}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return ui}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue[t]=void 0}}),t}(Vn);Ki.prototype.applySnapshot=Tt(Ki.prototype.applySnapshot);var Wi=function(e){function t(t,r,n,i){void 0===i&&(i=ci);var a=e.call(this,t)||this;return Object.defineProperty(a,"flags",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(a,"checker",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(a,"initializer",{enumerable:!0,configurable:!0,writable:!0,value:i}),a.flags=r,a}return bn(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return Xn(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.initializer(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return vi(e)&&this.checker(e)?Hn():Gn(t,e,"Value is not a "+("Date"===this.name?"Date or a unix milliseconds timestamp":this.name))}}),t}(xn),qi=new Wi("string",Sn.String,(function(e){return"string"==typeof e})),Yi=new Wi("number",Sn.Number,(function(e){return"number"==typeof e})),$i=new Wi("integer",Sn.Integer,(function(e){return fi(e)})),Ji=new Wi("float",Sn.Float,(function(e){return t=e,Number(t)===t&&t%1!=0;var t})),Xi=new Wi("finite",Sn.Finite,(function(e){return t=e,Number.isFinite(t);var t})),Zi=new Wi("boolean",Sn.Boolean,(function(e){return"boolean"==typeof e})),Qi=new Wi("null",Sn.Null,(function(e){return null===e})),ea=new Wi("undefined",Sn.Undefined,(function(e){return void 0===e})),ta=new Wi("Date",Sn.Date,(function(e){return"number"==typeof e||e instanceof Date}),(function(e){return e instanceof Date?e:new Date(e)}));ta.getSnapshot=function(e){return e.storedValue.getTime()};var ra=ta,na=function(e){function t(t){var r=e.call(this,JSON.stringify(t))||this;return Object.defineProperty(r,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Sn.Literal}),r.value=t,r}return bn(t,e),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return Xn(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return JSON.stringify(this.value)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return vi(e)&&e===this.value?Hn():Gn(t,e,"Value is not a literal "+JSON.stringify(this.value))}}),t}(xn);function ia(e){return new na(e)}var aa=function(e){function t(t,r,n,i){var a=e.call(this,t)||this;return Object.defineProperty(a,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(a,"_predicate",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(a,"_message",{enumerable:!0,configurable:!0,writable:!0,value:i}),a}return bn(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|Sn.Refinement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this._subtype.instantiate(e,t,r,n)}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this._subtype.validate(e,t);if(r.length>0)return r;var n=Zn(e)?ei(e).snapshot:e;return this._predicate(n)?Hn():Gn(t,e,this._message(e))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this._subtype.reconcile(e,t,r,n)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),t}(Cn),oa=function(e){function t(t,r,n){var i=e.call(this,t)||this;return Object.defineProperty(i,"_types",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"_dispatcher",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_eager",{enumerable:!0,configurable:!0,writable:!0,value:!0}),n=hn({eager:!0,dispatcher:void 0},n),i._dispatcher=n.dispatcher,n.eager||(i._eager=!1),i}return bn(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){var e=Sn.Union;return this._types.forEach((function(t){e|=t.flags})),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._types.some((function(t){return t.isAssignableFrom(e)}))}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"("+this._types.map((function(e){return e.describe()})).join(" | ")+")"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=this.determineType(n,void 0);if(!i)throw li("No matching type for union "+this.describe());return i.instantiate(e,t,r,n)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=this.determineType(t,e.getReconciliationType());if(!i)throw li("No matching type for union "+this.describe());return i.reconcile(e,t,r,n)}}),Object.defineProperty(t.prototype,"determineType",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._dispatcher?this._dispatcher(e):t?t.is(e)?t:this._types.filter((function(e){return e!==t})).find((function(t){return t.is(e)})):this._types.find((function(t){return t.is(e)}))}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this._dispatcher)return this._dispatcher(e).validate(e,t);for(var r=[],n=0,i=0;i<this._types.length;i++){var a=this._types[i].validate(e,t);if(0===a.length){if(this._eager)return Hn();n++}else r.push(a)}return 1===n?Hn():Gn(t,e,"No type is applicable for the union").concat(Kn(r))}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._types}}),t}(Cn);function ua(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Dn(e)?void 0:e,i=Dn(e)?yn([e],t):t,a="("+i.map((function(e){return e.name})).join(" | ")+")";return new oa(a,i,n)}var sa=function(e){function t(t,r,n){var i=e.call(this,t.name)||this;return Object.defineProperty(i,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(i,"_defaultValue",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"optionalValues",{enumerable:!0,configurable:!0,writable:!0,value:n}),i}return bn(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|Sn.Optional},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype.describe()+"?"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(this.optionalValues.indexOf(n)>=0){var i=this.getDefaultInstanceOrSnapshot();return this._subtype.instantiate(e,t,r,i)}return this._subtype.instantiate(e,t,r,n)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this._subtype.reconcile(e,this.optionalValues.indexOf(t)<0&&this._subtype.is(t)?t:this.getDefaultInstanceOrSnapshot(),r,n)}}),Object.defineProperty(t.prototype,"getDefaultInstanceOrSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e="function"==typeof this._defaultValue?this._defaultValue():this._defaultValue;return"function"==typeof this._defaultValue&&Wn(this,e),e}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this.optionalValues.indexOf(e)>=0?Hn():this._subtype.validate(e,t)}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),t}(Cn);function la(e,t,r){return function(e,t){if("function"!=typeof t&&Zn(t))throw li("default value cannot be an instance, pass a snapshot or a function that creates an instance/snapshot instead");kn()}(0,t),new sa(e,t,r||ca)}var ca=[void 0],fa=la(ea,void 0),pa=la(Qi,null);function ba(e){return kn(),ua(e,fa)}var ha=function(e){function t(t,r){var n=e.call(this,t)||this;return Object.defineProperty(n,"_definition",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(n,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),n}return bn(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return(this._subType?this._subType.flags:0)|Sn.Late},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSubType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._subType){var t=void 0;try{t=this._definition()}catch(e){if(!(e instanceof ReferenceError))throw e;t=void 0}if(e&&void 0===t)throw li("Late type seems to be used too early, the definition (still) returns undefined");t&&(this._subType=t)}return this._subType}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this.getSubType(!0).instantiate(e,t,r,n)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this.getSubType(!0).reconcile(e,t,r,n)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getSubType(!1);return e?e.name:"<uknown late type>"}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.getSubType(!1);return r?r.validate(e,t):Hn()}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getSubType(!1);return!!t&&t.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.getSubType(!1)||In}}),t}(Cn),da=function(e){function t(t,r){var n=e.call(this,t)||this;return Object.defineProperty(n,"options",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Sn.Lazy}),Object.defineProperty(n,"loadedType",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(n,"pendingNodeList",{enumerable:!0,configurable:!0,writable:!0,value:Ae.array()}),tr((function(){return n.pendingNodeList.length>0&&n.pendingNodeList.some((function(e){return e.isAlive&&n.options.shouldLoadPredicate(e.parent?e.parent.value:null)}))}),(function(){n.options.loadType().then(Tt((function(e){n.loadedType=e,n.pendingNodeList.forEach((function(e){e.parent&&n.loadedType&&e.parent.applyPatches([{op:"replace",path:"/"+e.subpath,value:e.snapshot}])}))})))})),n}return bn(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"<lazy "+this.name+">"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=this;if(this.loadedType)return this.loadedType.instantiate(e,t,r,n);var a=Xn(this,e,t,r,n);return this.pendingNodeList.push(a),tr((function(){return!a.isAlive}),(function(){return i.pendingNodeList.splice(i.pendingNodeList.indexOf(a),1)})),a}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this.loadedType?this.loadedType.validate(e,t):yi(e)?Hn():Gn(t,e,"Value is not serializable and cannot be lazy")}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(t,r,n,i){return this.loadedType?(t.die(),this.loadedType.instantiate(n,i,n.environment,r)):e.prototype.reconcile.call(this,t,r,n,i)}}),t}(xn),va=function(e){function t(t){var r=e.call(this,t?"frozen("+t.name+")":"frozen")||this;return Object.defineProperty(r,"subType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Sn.Frozen}),r}return bn(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"<any immutable value>"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return Xn(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return yi(e)?this.subType?this.subType.validate(e,t):Hn():Gn(t,e,"Value is not serializable and cannot be frozen")}}),t}(xn),ya=new va,ga=function(){function e(e,t){if(Object.defineProperty(this,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"node",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolvedReference",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Na(e))this.identifier=e;else{if(!Zn(e))throw li("Can only store references to tree nodes or identifiers, got: '"+e+"'");var r=ei(e);if(!r.identifierAttribute)throw li("Can only store references with a defined identifier attribute.");var n=r.unnormalizedIdentifier;if(null==n)throw li("Can only store references to tree nodes with a defined identifier.");this.identifier=n}}return Object.defineProperty(e.prototype,"updateResolvedReference",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Ia(this.identifier),r=e.root,n=r.identifierCache.getLastCacheModificationPerId(t);if(!this.resolvedReference||this.resolvedReference.lastCacheModification!==n){var i=this.targetType,a=r.identifierCache.resolve(i,t);if(!a)throw new ma("[mobx-state-tree] Failed to resolve reference '"+this.identifier+"' to type '"+this.targetType.name+"' (from node: "+e.path+")");this.resolvedReference={node:a,lastCacheModification:n}}}}),Object.defineProperty(e.prototype,"resolvedValue",{get:function(){return this.updateResolvedReference(this.node),this.resolvedReference.node.value},enumerable:!1,configurable:!0}),e}(),ma=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return bn(t,e),t}(Error),_a=function(e){function t(t,r){var n=e.call(this,"reference("+t.name+")")||this;return Object.defineProperty(n,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(n,"onInvalidated",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Sn.Reference}),n}return bn(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.targetType.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return Na(e)?Hn():Gn(t,e,"Value is not a valid identifier, which is a string or a number")}}),Object.defineProperty(t.prototype,"fireInvalidated",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=t.parent;if(i&&i.isAlive){var a=i.storedValue;a&&this.onInvalidated({cause:e,parent:a,invalidTarget:n?n.storedValue:void 0,invalidId:r,replaceRef:function(e){mn(t.root.storedValue,{op:"replace",value:e,path:t.path})},removeRef:function(){var e;Dn(e=i.type)&&(e.flags&Sn.Object)>0?this.replaceRef(void 0):mn(t.root.storedValue,{op:"remove",path:t.path})}})}}}),Object.defineProperty(t.prototype,"addTargetNodeWatcher",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this,n=this.getValue(e);if(n){var i=ei(n),a=function(n,a){var o=function(e){switch(e){case fn.beforeDestroy:return"destroy";case fn.beforeDetach:return"detach";default:return}}(a);o&&r.fireInvalidated(o,e,t,i)},o=i.registerHook(fn.beforeDetach,a),u=i.registerHook(fn.beforeDestroy,a);return function(){o(),u()}}}}),Object.defineProperty(t.prototype,"watchTargetNodeForInvalidations",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){var n=this;if(this.onInvalidated){var i;e.registerHook(fn.beforeDestroy,(function(){i&&i()}));var a=function(a){i&&i();var o=e.parent,u=o&&o.storedValue;o&&o.isAlive&&u&&((r?r.get(t,u):e.root.identifierCache.has(n.targetType,Ia(t)))?i=n.addTargetNodeWatcher(e,t):a||n.fireInvalidated("invalidSnapshotReference",e,t,null))};e.state===qn.FINALIZED?a(!0):(e.isRoot||e.root.registerHook(fn.afterCreationFinalization,(function(){e.parent&&e.parent.createObservableInstanceIfNeeded()})),e.registerHook(fn.afterAttach,(function(){a(!1)})))}}}),t}(xn),wa=function(e){function t(t,r){return e.call(this,t,r)||this}return bn(t,e),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.isAlive)return e.storedValue.resolvedValue}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue.identifier}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i,a=Zn(n)?(Qn(i=n),ei(i).identifier):n,o=new ga(n,this.targetType),u=Xn(this,e,t,r,o);return o.node=u,this.watchTargetNodeForInvalidations(u,a,void 0),u}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(!e.isDetaching&&e.type===this){var i=Zn(t),a=e.storedValue;if(!i&&a.identifier===t||i&&a.resolvedValue===t)return e.setParent(r,n),e}var o=this.instantiate(r,n,void 0,t);return e.die(),o}}),t}(_a),Oa=function(e){function t(t,r,n){var i=e.call(this,t,n)||this;return Object.defineProperty(i,"options",{enumerable:!0,configurable:!0,writable:!0,value:r}),i}return bn(t,e),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.isAlive)return this.options.get(e.storedValue,e.parent?e.parent.storedValue:null)}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=Zn(n)?this.options.set(n,e?e.storedValue:null):n,a=Xn(this,e,t,r,i);return this.watchTargetNodeForInvalidations(a,i,this.options),a}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=Zn(t)?this.options.set(t,e?e.storedValue:null):t;if(!e.isDetaching&&e.type===this&&e.storedValue===i)return e.setParent(r,n),e;var a=this.instantiate(r,n,void 0,i);return e.die(),a}}),t}(_a);function Pa(e,t){kn();var r=t||void 0,n=t?t.onInvalidated:void 0;return r&&(r.get||r.set)?new Oa(e,{get:r.get,set:r.set},n):new wa(e,n)}var ja=function(e){function t(t,r){var n=e.call(this,t)||this;return Object.defineProperty(n,"validType",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Sn.Identifier}),n}return bn(t,e),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(!(e&&e.type instanceof Ki))throw li("Identifier types can only be instantiated as direct child of a model type");return Xn(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(e.storedValue!==t)throw li("Tried to change identifier from '"+e.storedValue+"' to '"+t+"'. Changing identifiers is not allowed.");return e.setParent(r,n),e}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return typeof e!==this.validType?Gn(t,e,"Value is not a valid "+this.describe()+", expected a "+this.validType):Hn()}}),t}(xn),Sa=function(e){function t(){var t=e.call(this,"identifier","string")||this;return Object.defineProperty(t,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Sn.Identifier}),t}return bn(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifier"}}),t}(ja),Aa=function(e){function t(){return e.call(this,"identifierNumber","number")||this}return bn(t,e),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifierNumber"}}),t}(ja),Ea=new Sa,Ta=new Aa;function Ia(e){return""+e}function Na(e){return"string"==typeof e||"number"==typeof e}var Ca=function(e){function t(t){var r=e.call(this,t.name)||this;return Object.defineProperty(r,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Sn.Custom}),r}return bn(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this.options.isTargetType(e))return Hn();var r=this.options.getValidationMessage(e);return r?Gn(t,e,"Invalid value for type '"+this.name+"': "+r):Hn()}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.options.toSnapshot(e.storedValue)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return Xn(this,e,t,r,this.options.isTargetType(n)?n:this.options.fromSnapshot(n,e&&e.root.environment))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=!this.options.isTargetType(t);if(!e.isDetaching&&e.type===this&&(i?t===e.snapshot:t===e.storedValue))return e.setParent(r,n),e;var a=i?this.options.fromSnapshot(t,r.root.environment):t,o=this.instantiate(r,n,void 0,a);return e.die(),o}}),t}(xn),Va={enumeration:function(e,t){var r="string"==typeof e?t:e,n=ua.apply(void 0,yn(r.map((function(e){return ia(""+e)}))));return"string"==typeof e&&(n.name=e),n},model:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="string"==typeof e[0]?e.shift():"AnonymousModel",n=e.shift()||{};return new Ki({name:r,properties:n})},compose:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="string"==typeof e[0],n=r?e[0]:"AnonymousModel";return r&&e.shift(),e.reduce((function(e,t){return e.cloneAndEnhance({name:e.name+"_"+t.name,properties:t.properties,initializers:t.initializers,preProcessor:function(r){return t.applySnapshotPreProcessor(e.applySnapshotPreProcessor(r))},postProcessor:function(r){return t.applySnapshotPostProcessor(e.applySnapshotPostProcessor(r))}})})).named(n)},custom:function(e){return new Ca(e)},reference:Pa,safeReference:function(e,t){var r=Pa(e,hn(hn({},t),{onInvalidated:function(e){t&&t.onInvalidated&&t.onInvalidated(e),e.removeRef()}}));return t&&!1===t.acceptsUndefined?r:ba(r)},union:ua,optional:la,literal:ia,maybe:ba,maybeNull:function(e){return kn(),ua(e,pa)},refinement:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="string"==typeof e[0]?e.shift():Dn(e[0])?e[0].name:null,n=e[0],i=e[1],a=e[2]?e[2]:function(e){return"Value does not respect the refinement predicate"};return kn(),ji(),new aa(r,n,i,a)},string:qi,boolean:Zi,number:Yi,integer:$i,float:Ji,finite:Xi,Date:ra,map:function(e){return new Ri("Map<string, "+e.name+">",e)},array:function(e){return kn(),new Li(e.name+"[]",e)},frozen:function(e){return 0===arguments.length?ya:Dn(e)?new va(e):la(ya,e)},identifier:Ea,identifierNumber:Ta,late:function(e,t){var r="string"==typeof e?e:"late("+e.toString()+")";return new ha(r,"string"==typeof e?t:e)},lazy:function(e,t){return new da(e,t)},undefined:ea,null:Qi,snapshotProcessor:function(e,t,r){return kn(),new Vi(e,t,r)}};const xa=require("benchmark");var Da=new(e.n(xa)().Suite);const ka={};Da.on("complete",(function(){const e=Da.filter("successful").map((e=>({scenario:e.name,opsSec:e.hz,plusMinus:e.stats.rme,runs:e.stats.sample.length,maxMemory:ka[e.name]})));console.log(["scenario","ops_per_sec","margin_of_error","runs","max_memory_used_kb"].join(",")),e.forEach((e=>{console.log(e.scenario+","+e.opsSec+","+e.plusMinus+","+e.runs+","+e.maxMemory)}))})),Da.add("Create a map type with one number in it",(()=>{const e=void 0!==performance.memory?performance.memory.usedJSHeapSize:process.memoryUsage().heapUsed;var t,r;Va.map(Va.number).create({number:1}),t="Create a map type with one number in it",r=(void 0!==performance.memory?performance.memory.usedJSHeapSize:process.memoryUsage().heapUsed)-e,ka[t]?ka[t]=Math.max(ka[t],r):ka[t]=r})),Da.on("cycle",(function(e){console.log(String(e.target))})),Da.run(),module.exports.suite=t})();